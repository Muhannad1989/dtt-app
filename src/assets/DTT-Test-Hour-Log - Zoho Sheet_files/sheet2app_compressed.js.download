!function(e){var t=e.global||(e.global=r());function o(){}function r(){return Object.create(null)}o.prototype=r(),o.prototype.extend=function(e,t,o){return void 0===o&&(o=r()),Object.defineProperty(e,t,{value:o,writable:!1,configurable:!1,enumerable:!0}),e[t]},o.prototype.getModule=function(e){var o,n,l,u=e.split("/").filter(Boolean),i=t;for(o=0,n=u.length;o<n;o++)l=i[u[o]]||(i[u[o]]=r()),i=l;return l},o.prototype.getModuleFrom=function(e,t){var o,n,l,u=t.split("/").filter(Boolean),i=e;for(o=0,n=u.length;o<n;o++)l=i[u[o]]||(i[u[o]]=r()),i=l;return l},e.module=new o}(this);!function(e){var n,t=e.module,r=t.getModule("SA/Common/Utils"),i=t.getModule("SA/Controller/UIActionMapper"),o=e.Event.prototype.stopPropagation||function(){this.cancelBubble=!0},u=e.Event.prototype.preventDefault||function(){this.returnValue=!1};function c(e){var n=(e=e.toLocaleUpperCase()).substring(0,e.indexOf(":")),t=(e=e.substring(e.indexOf(":")+1,e.length)).substring(0,e.indexOf(":")),r=-1;(e=e.substring(e.indexOf(":")+1,e.length))&&(r=e.match(/^(\d+)/))&&r[1]&&(r=r[1]);var i="";return-1!=e.indexOf("A")?i="AM":-1!=e.indexOf("P")&&(i="PM"),""==n&&(n=-1),""==t&&(n=-1),{hr:a(n),min:a(t),sec:a(r),meridian:i}}function a(e){return(e|=0)>=0&&e<10?"0"+e:e}r.min=function(e,n){return e<n?e:n},r.setTitle=function(e,n){e&&e.setAttribute("title",n)},r.parseResponse=function(e){var n=e&&""!=e&&JSON.parse(e);return i.disableUndo&&i.enableUndo&&n.undo&&("true"==n.undo?i.enableUndo():i.disableUndo()),i.disableRedo&&i.enableRedo&&n.redo&&("true"==n.redo?i.enableRedo():i.disableRedo()),n.actionResponse?n.actionResponse:n},r.parseJSON=function(e){return e&&""!=e&&JSON.parse(e)},r.getWindowHeight=function(){return $(window).height()},r.getDocumentHeight=function(){return $(document).height()},r.flatternArray=function(e){var n=[];return function e(n,t){if(!r.isArray(n))return n;for(var i=0,o=n.length;i<o;i++)r.isArray(n[i])?e(n[i],t):t.push(n[i])}(e,n),n},r.getMinIndex=function(e){if(!r.isUndefined(e)){for(var n=Number.MAX_SAFE_INTEGER,t=0,i=0,o=e.length;i<o;i++)e[i]<n&&(n=e[i],t=i);return t}},r.countTrue=function(e){var n=0;if(!r.isUndefined(e))for(var t in e)e[t]&&++n;return n},r.addReadOnlyProperty=function(e,n,t){Object.defineProperty(e,n,{enumerable:!0,value:t,writable:!1,configurable:!1})},r.isNumber=function(e){return!isNaN(e)&&""!=e},r.createPureObject=function(){return Object.create(null)},r.isUndefined=function(e){return void 0==e||null==e},r.isUndefinedAll=function(e){var n,t=e&&e.length||0;for(n=0;n<t;n++)if(r.isUndefined(e[n]))return!0;return!1},r.has=function(e,n){return Object.hasOwnProperty.call(e,n)},r.mixIn=r.clone=function(e,n){for(var t in n)e[t]="o"==(typeof n[t])[0]?r.clone(n[t].constructor(),n[t]):n[t];return e},r.extend=function(e,n){for(var t in n)!e[t]&&(e[t]="o"==(typeof n[t])[0]?r.extend(n[t].constructor(),n[t]):n[t]);return e},r.isArray=function(e){return Array.isArray(e)},r.hide=function(e){!r.isUndefined(e)&&(e.style.display="none")},r.hideAll=function(e){var n=0,t=0;for(!r.isUndefined(e)&&r.isArray(e)&&(n=e.length);t<n;t++)r.hide(e[t])},r.show=function(e,n){!r.isUndefined(e)&&(e.style.display=n||"")},r.showAll=function(e){var n=0,t=0;for(!r.isUndefined(e)&&r.isArray(e)&&(n=e.length);t<n;t++)r.hide(e[t])},r.isNaN=function(n){return e.isNaN(n)},r.bindEvent=function(e,n,t){e&&e.addEventListener(n,t)},r.removeEvent=function(e,n,t){e&&e.removeEventListener(n,t)},r.isDOM=function(e){return e instanceof HTMLElement},r.mixCssProp=function(e,n){for(var t in n)r.has(n,t)&&t in document.body.style&&(e.style[t]=n[t])},r.addClass=function(e,n){if(r.isDOM(e))for(var t=0,i=(n=n.split(" ")).length;t<i;t++)e.classList.add(n[t]||"")},r.setLabel=function(e,n){r.isUndefinedAll([e,n])||(e.textContent=n)},r.removeClass=function(e,n){if(r.isDOM(e))for(var t=0,i=(n=n.split(" ")).length;t<i;t++)e.classList.remove(n[t]||"")},r.removeAllClass=function(e){r.isDOM(e)&&(e.classList="")},r.getRangeArray=function(e){if(!r.isUndefined(e)){var n,t=[];for(var i in e)e[i]&&(i=+i,r.isUndefined(n)||i!=n+1?t.push({sr:i,er:i}):t[t.length-1].er=i,n=i);i=0;for(var o=t.length;i<o;i++)t[i].sr==t[i].er&&(t[i]={row:t[i].sr});return t}},r.getRanges=function(e,n,t){if(!r.isUndefined(e)){r.isUndefined(n)&&(n=0),r.isUndefined(t)&&(t=e.length);var i=[];i[0]=i[1]=e[n];for(var o=n+1;o<=t;o++)i[i.length-1]+1!=e[o]?(i.push(e[o]),i.push(e[o])):(i.pop(),i.push(e[o]));return i}},r.eventFactory=function(e,n){return function(t){n&&n(e,t,this)}},r.linkEvent=function(e,n,t){t&&t(e,n)},r.stopPropagation=function(e){o.call(e)},r.preventDefault=function(e){u.call(e)},r.getFragment=function(){return document.createDocumentFragment()},r.renderAll=function(e,n){if(!r.isUndefinedAll([e,n]))for(var t=n.length,i=0;i<t;i++)e.append(n[i])},r.render=function(e,n){r.isUndefinedAll([e,n])||e&&e.append(n)},r.querySelectorID=function(e,n){return r.isDOM(e)&&n?e.id==n?e:e.querySelector("#"+n):e},r.querySelectorTag=function(e,n){return r.isDOM(e)&&n?e.tagName==n.toLocaleUpperCase()?e:e.querySelector(n):e},r.isString=function(e){return"s"==(typeof e)[0]},r.bindAllEvent=function(e,n,t){for(var i=e&&e.length||0,o=0;o<i;o++)r.bindEvent(e[o],n,t)},r.EMPTY_FUNCTION=function(){e.console.log(arguments)},r.debounce=function(e,n){var t=null;return n=n||500,function(r){var i=this;t&&clearTimeout(t),t=setTimeout(function(){e&&e(r,i)},n)}},r.AdditiveDebounce=(n=null,function(t,r,i){e.clearTimeout(n),n=e.setTimeout(t,r+i)}),r.constructAsKeyValue=function(e){if(!r.isUndefined(e)){for(var n=[],t=0,i=e.length;t<i;t++)n.push({key:t,value:e[t]});return n}},r.FireEvent=function(e,n){if(null!=e)if(e.fireEvent)e.fireEvent("on"+n);else{var t=document.createEvent("Events");t.initEvent(n,!0,!1),e.dispatchEvent(t)}},r.removeChildren=function(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)},r.constructID=function(e,n){if(!r.isUndefined(e)){n=n||"_";for(var t=r.isUndefined(e[0])?e:e[0],i=1,o=e.length;i<o;i++)!r.isUndefined(e[i])&&(t+=n+e[i]);return t}},r.separateID=function(e,n){if(n=n||"_",!r.isUndefined(e))return(e+"").split("_").filter(Boolean)},r.unionObject=function(e){if(!r.isUndefined(e)){for(var n=r.createPureObject(),t=0,i=e.length;t<i;t++){var o=e[t];for(var u in o)n[u]=o[u]}return n}},r.readCookie=function(e){for(var n=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){var i=t[r].trim();if(0===i.indexOf(n))return i.substring(n.length)}},r.escapeSpecialCharacters=function(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;").replace(/\"/g,"&quot;"):e},r.unEscapeSpecialCharacters=function(e){return e?e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&quot;/g,'"'):e},r.isAlphaNumeric=function(e){if(!r.isUndefined(e)){var n,t,i;for(t=0,i=e.length;t<i;t++)if(!((n=e.charCodeAt(t))>47&&n<58||n>64&&n<91||n>96&&n<123))return!1;return!0}},r.rangeObj=function(e,n,t){arguments.length<2&&(n=e,e=0);for(var i=r.createPureObject(),o=e;o<n;o++)i[o]=t;return i},r.range=function(e,n){arguments.length<2&&(n=e,e=0);for(var t=[],r=e;r<n;r++)t.push(r);return t},r.toTitleCase=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1)})},r.addNonEnumerable=function(e,n,t){Object.defineProperty(e,n,{value:t,enumerable:!1,writable:!0,configurable:!0})},r.insertIntoArray=function(e,n,t,r){r=r||0,e.splice.apply(e,[t,r].concat(n))},r.paddingArray=function(e,n){if(!r.isUndefinedAll([e,n])){var t=e.length;if(t===n)return;if(t>n)return void(e.length=n);for(var i=n-t;i--;)e.push("")}},r.getElementFromEvent=function(e){return e.srcElement||e.target},r.measureTextWidth=function(e,n){var t=(r.measureTextWidth.canvas||(r.measureTextWidth.canvas=document.createElement("canvas"))).getContext("2d");return t.font=n,t.measureText(e).width},r.getCenter=function(e){var n=$(window).height();return{x:$(window).width()/2-$(e).width()/2+$(window).scrollLeft(),y:n/2-$(e).height()/2+$(window).scrollTop()}},r.hasClass=function(e,n){if(e&&e.classList)return e.classList.contains(n)},r.convertTo24Format=function(e){var n=c(e);return"PM"==n.meridian&&n.hr<12?[n.hr+12,n.min,n.sec].join(":"):"AM"==n.meridian&&12==n.hr?[n.hr-12,n.min,n.sec].join(":"):[n.hr,n.min,n.sec].join(":")},r.convertTo12Format=function(e){var n=c(e),t=" AM";if(n.hr>=12){var r=n.hr-12;return t=" PM",[0!=r?r:12,n.min,n.sec].join(":")+t}return[n.hr,n.min,n.sec].join(":")+t},r.sort=function(){},r.isNull=function(){},r.isChild=function(){},r.isParent=function(){},r.isVisible=function(){},r.escapeString=function(){},r.binarySearch=function(){},r.removeAllEvent=function(){},r.escapeString=function(){},r.removeAllEvent=function(){},r.binarySearch=function(){},r.getFileProperties=function(){},r.getAllKeysFromObject=function(){},r.getFileProperties=function(){},r.getAllKeysFromObject=function(){}}(this);!function(r){var o={},n=Object.create(null);n.log="background:grey;color:white;",n.warn="background:orange;color:white;",n.error="background:red;color:white;";var c=function(){};o.log=function(r){c("%c "+r+" ",n.log)},o.warn=function(r){c("%c "+r+" ",n.warn)},o.error=function(r){c("%c "+r+" ",n.error)},o.prototype={set enable(r){c=function(){}}},r.logger=o}(this);!function(e){var E=e.module,A=E.getModule("SA/UI/Constants"),_=E.getModule("SA/UI/Constants/ClassNames"),a=E.getModule("SA/UI/Constants/TemplateConstants"),T=E.getModule("SA/UI/Component/Tab/Constants"),R=E.getModule("SA/UI/Component/FillMissingValue/Constants"),r=E.getModule("SA/UI/Component/Search/Constants"),t=E.getModule("SA/ThirdParty/Handson/Constants"),I=E.getModule("SA/UI/Component/Sidebar/Grid/GridConstants"),o=E.getModule("SA/UI/Constants/ClusterConstants"),C=E.getModule("SA/UI/Constants/RefineConstants"),S=E.getModule("SA/UI/Constants/BannerConstants"),O=E.getModule("SA/Common/Constants/ImportErrorConstants"),D=E.getModule("SA/UI/Constants/SidebarConstants");e.module.getModule("SA/ServerConstants");A.DEFAULT_TIME_ZONE="Asia/Calcutta",A.DEFAULT_DATE_ORDER="DMY",A.COLUMN_NAME_LENGTH=200,A.TABLE_NAME_LENGTH=50,A.APP_NAME_LENGTH=50,A.COLUMNS_LIMIT=70,D.NORMAL_SELECT=1,D.TOKEN_SELECT=2,D.OPERATION_SELECT_ONLY=3,D.DEDUP_SELECT=4,O.SKIP_ROW=1,O.BLANK_VALUE=2,S.SUCCESS=1,S.ERROR=2,S.WARNING=3,S.INFO=4,C.CLUSTER="CLUSTER",C.MISSING_VALUE="MISSING_VALUE",C.SPLIT_COLUMN="SPLIT_COLUMN",C.MERGE_COLUMN="MERGE_COLUMN",C.SPLIT_ADDRESS="SPLIT_ADDRESS",C.COLUMN_SUMMARY="COLUMN_SUMMARY",C.DEDUPLICATE="DEDUPLICATE_COLUMN",C.STANDARDISE_PHONE_NUMBER="STANDARDISE_PHONE_NUMBER",o.CHARACTER_SIMILARITY=1,o.PHONETICS=2,o.EDIT_DISTANCE=3,o.COMBINED=0,o.DEFAULT_ALGORITHM=o.COMBINED,I.CLUSTER=1,I.SPLIT_COLUMNS=2,I.DEDUPLICATE=3,I.MERGE=4,I.DEFAULT_GRID_TYPE=I.CLUSTER,I.ADDRESS_SPLIT=5,I.COLUMN_SUMMARY=6,I.TABLE_SUMMARY=7,I.DEDUPE=8,t.SEPARATOR="hsep",t.SUBMENU="submenu",t.SEPARATOR_VALUE="--------",r.PREV=1,r.NEXT=2,R.DEFAULT_VALUE=1,R.FILL_PREVIOUS_VALUE=2,R.REMOVE_BLANKS=3,R.AVERAGE=4,R.MAX_OCCUR=5,A.DEFAULT_BANNER_TIMEOUT=1e4,A.READ_ONLY=1,A.READ_AND_WRITE=2,A.DEFAULT_ACTION_BANNER_TIMEOUT=4e3,A.DEFAULT_ACTION_BANNER_LAYOUT=!0,T.LEFT=1,T.RIGHT=2,_.STANDARDIZE_PHONE_NUMBER="StandardizePhoneNumbersUI",_.REFINE_DATA_AREA="REFINE_DATA_AREA",_.APP_RIBBON="AppRibbon",_.IMPORT_CHAMBER="ImportChamber",_.SIDENAV_COMPONENT="SideNavComponent",_.URL_PORTAL="URLPortal",_.FILE_PORTAL="FilePortal",_.CLOUD_PORTAL="CloudPortal",_.TOP_BAND="TopBand",_.ACTION_BUTTON="ActionButton",_.HOME_CHAMBER="HomeChamber",_.PROGRESS_LOADER="ProgressLoader",_.BANNER="Banner",_.NAVIGATOR="Navigator",_.QUICKMENU="QuickMenu",_.SELECT_MENU="SeletMenu",_.REFINE_SIDEBAR="RefineSidebar",_.SIDEBAR_HEADER="SidebarHeader",_.CLUSTER_HEADER="ClusterHeader",_.FILL_MISSING_VALUE="FillMissingValue",_.SPLIT_COLUMNS="SplitColumns",_.SEARCHUI_COMPONENT="SearchComponent",_.TABLE_SELECT_MENU="TableSelect",_.HEADER_SELECT_MENU="HeaderSelect",_.FILTER_UI="FilterUI",_.FILTER_WIDGET="FilterWidget",_.HANDSON="Handson",_.DATA_GRID="DataGrid",_.REFINE_COMPONENT="RefineComponent",_.EXPORT_BUTTON="ExportUI",_.DC_BUTTON="DCButton",_.DEDUPE_BUTTON="DeDupeButton",_.TAB_MENU="TabMenu",_.TAB="Tabs",_.TIMEZONE_MENU="TimeZoneMenu",_.SIDEBAR_FOOTER="RefineSidebarFooter",_.VIEW_INSTANCE="ViewInstance",_.SIDEBAR_GRID="SidebarGrid",_.SIDEBAR_MESSAGE="SidebarMessage",_.APP_ACTION_BUTTON="AppActionButton",_.APP_LISTING="AppListing",_.WORK_PLACE_HEADER="WorkPlaceHeader",_.LOOK_UP_CHAMBER="LookupComponent",_.ZIA_UI="ZIA_UI",_.APP_SETTINGS="SidePanelSettings",_.SIDEBAR_OPERATIONS_HOLDER="SidebarOperationHolder",_.LOADER="Loader",_.APP="App",_.URL_DIALOG="UrlDialog",_.CLOUD_DIALOG="CloudDialog",_.CALL_OUT="CallOut",_.MODAL_WINDOW="Modal",_.MASK="Mask",_.DIALOG="Dialog",_.CREATOR_SUCCESS_DIALOG="CreatorSuccessDialog",_.FIELD_WIDGET="FieldWidget",_.TOKEN_SELECT="TokenSelect",_.COMBO_BOX="Combobox",_.CONTEXT_MENU="ContextMenu",_.DATA_GRID_LOADER="DataGridLoader",_.FIND_REPLACE_BUTTON="FindReplaceButton",_.FIND_REPLACE_WIDGET="FindReplaceWidget",_.TABLE_SETTINGS_CALL_OUT="TableSettingsCallOut",_.PREVIEW_CLUSTER="PreviewCluster",_.WORK_PLACE_CALL_OUT="WorkplaceCallout",_.TABLE_SUMMARY_TOOLBAR="TableSummaryButton",_.ROW_CUSTOMIZER="RowCustomizer",_.SHEET_DUPLICATE_COMPONENT_HOLDER="SheetDuplicateHolder",_.SHEET_FIND_UNIQUE="SheetUniqueHolder",_.CREATOR_SUMMARY="CreatorErrorSummary",_.MERGE_COLUMN_UI="MergeColumns",_.LOOKUP_CHAMBER="LookupChamber",_.UNDO="UndoUI",_.REDO="RedoUI",_.DEDUPLICATE="Deduplicate",_.DEDUPLICATE_GRID_EDIT="DeduplicateGridEdit",a.UNDO_UI="UndoButtonArea",a.REDO_UI="RedoButtonArea",a.URL_PORTAL="URLPortal",a.FILE_PORTAL="FilePortal",a.CLOUD_PORTAL="CloudPortal",a.IMPORT_CHAMBER="ImportChamber",a.SIDENAV_COMPONENT="SideNavComponent",a.TOP_BAND="TopBand",a.HOME_CHAMBER="HomeChamber",a.BANNER="Banner",a.NAVIGATOR="Navigator",a.QUICKMENU="QuickMenu",a.QUICKMENU_ITEM="QuickMenuItem",a.REFINE_SIDEBAR="RefineSidebar",a.SIDEBAR_REFINE="RefineIcon",a.SIDEBAR_SETTINGS="SettingsIcon",a.SIDEBAR_ZIA="ZiaIcon",a.SIDEBAR_TABLE_SUMMARY="TableSummaryIcon",a.SIDEBAR_HEADER="SidebarHeader",a.COLUMN_SELECT="SidebarColumnSelectArea",a.OPERATION_SELECT="SidebarOperationSelectArea",a.CLUSTER_HEADER="ClusterHeader",a.FILL_MISSING_VALUE="FillMissingValueArea",a.SPLIT_COLUMNS="SplitColumnArea",a.SEARCHUI_COMPONENT="SearchUIArea",a.TABLE_SELECT_MENU="TableSelectMenuArea",a.HEADER_SELECT_MENU="HeaderSelectMenuArea",a.FILTER_UI="FilterUIArea",a.FILTER_WIDGET="FilterWidgetArea",a.DATAGRID="DataGridArea",a.REFINE_AREA="RefineArea",a.EXPORT_BUTTON="ExportButtonArea",a.DC_BUTTON="DataCleansingButtonArea",a.DEDUPE_BUTTON="DuplicateButtonArea",a.TAB_MENU_ITEM="TabMenuItemsArea",a.TAB_MENU="TabMenuHolderArea",a.TAB="TabArea",a.TIMEZONE_MENU="TimeZoneMenuArea",a.DATA_GRID_HEADER="DataGridHeaderArea",a.CLUSTER_GRID_HEADER_CHECKBOX="ClusterGridHeaderCheckBox",a.SIDEBAR_FOOTER="SidebarFooterArea",a.SIDEBAR_GRID="sidebarGridArea",a.SIDEBAR_MESSAGE="SidebarMessageArea",a.APP_ACTION_BUTTON="AppActionButtonArea",a.WORK_PLACE_HEADER="WorkPlaceHeaderArea",a.APP_LISTING="AppListingArea",a.LOOKUP_CHAMBER="LookupChamberArea",a.ZIA_UI="ZiaArea",a.APP_SETTINGS="SidePanelSettingsArea",a.SIDEBAR_OPERATIONS_HOLDER="SidebarOperationHolderArea",a.LOADER="LoaderArea",a.APP="ListingAppArea",a.CALL_OUT="TabsPopOutArea",a.MODAL_WINDOW="ModalArea",a.MASK="MaskArea",a.DIALOG_ICON="DialogIconHolderArea",a.DIALOG_BODY="DialogContentHolderArea",a.DIALOG_FOOTER="DialogFooterArea",a.CREATOR_DIALOG_HEADER="CreatorDialogIconArea",a.CREATOR_DIALOG_BODY="CreatorDialogContentArea",a.CREATOR_DIALOG_FOOTER="CreatorDialogFooterArea",a.CREATOR_IMPORT_RECORDS="CreatorDialogImportRecords",a.FIELD_WIDGET="FieldWidgetArea",a.URL_DIALOG_BODY="UrlDialogBody",a.URL_DIALOG_HEADER="UrlDialogHeader",a.DATA_GRID_LOADER="DataGridLoaderArea",a.DEFAULT_NAVIGATION="NavigationTextArea",a.PREVIEW_CLUSTER="PreviewClusterArea",a.TABLE_SETTINGS_CALL_OUT="TableSettingsArea",a.FIND_REPLACE_WIDGET="FindAndReplaceArea",a.FIND_REPLACE_BUTTON="FindReplaceButtonArea",a.WORK_PLACE_CALL_OUT="WorkPlaceCallOutArea",a.CREATOR_SUMMARY="CreatorErrorSummaryArea",a.FIELD_WIDGET_ICON_DROPDOWN="FieldWidgetIconicDropDownArea",a.COLUMN_TOKEN_SELECT="SidebarColumnTokenSelectArea",a.CONTEXT_MENU_AREA="GridContextMenuArea",a.DESCRIPTIVE_SELECTMENU="DescriptiveSelectMenu",a.MERGE_COLUMN_AREA="MergeColumnArea",a.FILTER_PANEL_AREA="FilterPanelArea",a.COLUMN_SUMMARY_CELL="ColumnSummeryCell",a.SHEET_DUPLICATE_COMPONENT_HOLDER="SheetDuplicateHolderArea",a.SHEET_FIND_UNIQUE="SheetDuplicateHolderArea",a.ROW_CUSTOMIZER="RowCustomizerArea",a.TABLE_SUMMARY_TOOLBAR="TableSummaryButtonArea",a.DEDUP_COLUMN_TOKEN_SELECT="SidebarDedupColumnTokenSelectArea",a.DEDUPLICATE="DeduplicateButtonArea"}(this);!function(e){var E=e.module,t=E.getModule("SA/Model/Constants/ClassNames"),A=E.getModule("SA/Model/Constants/TemplateConstants"),a=E.getModule("SA/Model/Constants");a.DEFAULT_HEADER_INDEX=0,a.CHUNK_SIZE=6e3,a.COLUMN=SA_EN.Preview.Grid.ColumnName,t.FILTER_MODAL="FilterModel",t.REQUEST="Request",t.REQUEST_MANAGER="RequestManager",t.PARALLEL_REQUEST_MANAGER="ParallelRequestManager",t.COLUMN_SUMMARY="ColumnSummary",t.TABLE_SUMMARY="TableSummary",t.ADDRESS_STANDARDIZE_MODEL="AddressStandardizeModel",t.APP_INSTANCE="AppInstance",t.DATA_INSTANCE="DataInstance",t.CLUSTER_MODEL_INSTANCE="ClusterModelInstance",t.CLUSTER_GRID_MODEL_INSTANCE="ClusterGridModel",t.DATA_GRID_CELL="DataGridCell",t.COLUMN_META_INSTANCE="ColumnMetaInstance",t.CONDITIONAL_FORMAT="ConditionalFormat",t.DATA_INSTANCE="DataInstance2",t.DEDUPLICATE_GRID_MODEL="DeduplicateGridModel",A.CLUSTER_GROUP="ClusterGridGroupArea",A.CLUSTER_INPUT_BOX="ClusterGridInputBoxArea",A.CLUSTER_CHECK_BOX="ClusterGridCheckBoxArea",A.LAST_CLUSTER="ClusterGridLastClusterArea",A.Deduplicate="Deduplicate",A.DEDUP_GRID_VIEW_1="DedupGridViewCol1",A.DEDUP_GRID_VIEW_2="DedupGridViewCol2",A.DEDUP_GRID_VIEW_0="DedupGridViewCol0"}(this);!function(e){var t={};e.module.getModule("SA/Common/Template").getTemplate=function(e){if(null!==e){var n=t[e];return n||(t[e]=document.getElementById(e),n=t[e]),(l=n.content.cloneNode(!0)).firstElementChild||l.firstChild}var l}}(this);!function(e){var t=e.module,n=t.getModule("SA/UI/Registry"),o=t.getModule("SA/Common/Utils"),u=t.getModule("SA/UI/Class"),r=o.createPureObject();n.register=function(e,t){r[e]=t},n.getComponent=function(e,t,n){return!r[e]&&(r[e]=new u[e](t)),n&&r[e].setDependency(n),r[e]},n.isComponentReady=function(e){return r[e]},n.DB=r}(this);!function(t){var e=t.module,i=e.getModule("SA/Common/Utils"),s=e.getModule("SA/Common/Template").getTemplate,n=e.getModule("SA/UI/Registry").getComponent;function h(){}h.prototype={construct:function(t){this.constructed&&!t||(this.dom=s(this.TEMPLATE),this.constructed=!0,this.cacheElements&&this.cacheElements(),this.bindEvents&&this.bindEvents(),this.setLabel())},setLabel:function(){},show:function(){if(!this.attached){this.render();var t=this.showCallBack;return this.display=!0,void(t&&t.call(this))}this.constructed&&(!this.display&&i.show(this.dom),this.display=!0,(t=this.showCallBack)&&t.call(this))},hide:function(){if(this.constructed&&this.attached){this.display&&i.hide(this.dom),this.display=!1;var t=this.hideCallBack;t&&t.call(this)}},setHolder:function(t){this.holder=t},setDependency:function(t){i.isUndefined(t)||(this.dependency=t)},render:function(t){t&&(this.holder=t),this.dependency&&function(t){if(!i.isUndefined(t)){for(var e=t.length,s=0;s<e;s++){var h=n(t[s],this.holder);h.renderOnly()}this.dependency=null}}.call(this,this.dependency),!this.constructed&&this.construct();var e=this.holder;e&&e.append&&e.append(this.dom),this.attached=this.display=!0;var s=this.afterRender;s&&s.call(this)},renderOnly:function(){if(this.constructed){if(this.attached&&this.display)return;var t=this.holder,e=this.dom;e&&t&&(i.hide(e),t.append(e),this.attached=!0,this.display=!1)}},disable:function(){},enable:function(){},destroy:function(){this.constructed&&(this.dom&&this.dom.remove(),this.removeEvents&&this.removeEvents(),this.attached=!1)}},e.extend(e.getModule("SA/UI/Class"),"UIComponent",h)}(this);!function(e){var i=e.module,n=i.getModule("SA/Service"),a=(i.getModule("SA/Common/Constants"),i.getModule("SA/UI/Constants/ClusterConstants")),t=i.getModule("SA/Common/Constants/OperationConstants"),r=e.ZSConstants.I18N;t.CLUSTER=1,t.MISSING_VALUE=2,t.DUPLICATE=3,t.FIND_UNIQUE=4,t.FIND_COLUMN_FREQUENCY=5,n.isSheet=!0,n.getSidebarClusterGridWidth=function(){return[30,170,134]},n.getSupportedClusterAlgorithm=function(){return[{key:a.CHARACTER_SIMILARITY,value:"Character Similarity",label:SA_EN.Preview.Sidebar.FixMisspeling.CharacterSimilarity}]},n.getSidebarMenuList=function(){return[{id:"REFINE",label:SA_EN.Preview.Sidebar.Menu.Refine}]},n.getSidebarHeaderElements=function(){return["OPERATION_SELECT","COLUMN_SELECT"]},n.getSidebarOperationList=function(){return[{value:r["SidePanel.DataCleaning.FixSpelling"]||"Fix Misspelings",key:t.CLUSTER,desc:SA_EN.Preview.Sidebar.Header.Description.FixMisspeling},{value:r["SidePanel.DataCleaning.FixMissing"]||"Fix Missing values",key:t.MISSING_VALUE,desc:SA_EN.Preview.Sidebar.Header.Description.FixMissing},{value:r["SidePanel.DataCleaning.FindUnique"]||"Find Unique",key:t.FIND_UNIQUE,desc:SA_EN.Preview.Sidebar.Header.Description.FindUnique},{value:r["SidePanel.DataCleaning.Duplicates"]||"Find Duplicates",key:t.DUPLICATE,desc:SA_EN.Preview.Sidebar.Header.Description.FindDuplicates},{value:r["SidePanel.DataCleaning.Frequency"]||"Find Frequency",key:t.FIND_COLUMN_FREQUENCY,desc:SA_EN.Preview.Sidebar.Header.Description.Frequency}]}}(this);!function(n){var e=n.module,t=e.getModule("SA/Common/Utils"),s=e.getModule("SA/ThirdParty/Handson/Constants"),o=e.getModule("SA/UI/Constants/ClassNames"),a=e.getModule("SA/LicenseLoader/Handson"),i=e.getModule("SA/Controller/UIActionController"),l=function(){return""};function h(n,e){this.holder=n,this.options=t.createPureObject(),this.handsonInstance=null,this.options={licenseKey:l(),copyPaste:!1,fillHandle:!1,colWidths:180,renderAllRows:!1,stretchH:"all",manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,visibleRows:20,rowHeaders:!0,colHeaders:!0,search:!0,undo:!1},t.mixIn(this.options,e),this.options.menu&&(this.options.dropdownMenu=c(this.options.menu)),this.constructHandsonInstance()}function r(n,e,t,s,o){for(var a,i=e;i<=t;i++)o((a=n[i]).r,a.c,"className",s)}function c(n){for(var e,t,o=0,a=n.length||0,i=0,l={};o<a;o++)if((e=n[o]).separator)l[s.SEPARATOR+0]=s.SEPARATOR_VALUE;else if((t=e.name)&&(l[t]={})&&(l[t].name=t),e.callback&&(l[t].callback=e.callback),e.submenu){var h=s.SUBMENU+i;l[t].submenu={},l[t].submenu.items=d(e.submenu,h),l[t].key=h,i++}return{items:l}}function d(n,e){for(var t,s=[],o=n.length||0,a=0;a<o;a++)t=n[a],s.push({name:t.name,key:e+":"+a,callback:t.callback});return s}a.loadLicense=function(n){var e=0;l=function(){return e++>2&&(n=null),n}},h.prototype={removeSelection:function(){this.handsonInstance&&this.handsonInstance.deselectCell()},constructHandsonInstance:function(){var e,t;this.handsonInstance=new n.Handsontable(this.holder,this.options),e=this.handsonInstance,t=this,Handsontable.hooks.add("beforeKeyDown",function(n){if(!i.isInLookupView||!i.isInLookupView()){var e=n.ctrlKey,s=n.keyCode||n.which;!n.path||"text"!=n.path[0].type&&"textarea"!=n.path[0].type?n&&(e&&n.stopImmediatePropagation(),8!=s&&46!=s||(t.options.onDeleteKeyDown&&t.options.onDeleteKeyDown.call(this),n.stopImmediatePropagation(),n.preventDefault())):8!=s&&46!=s||n.stopImmediatePropagation()}},e)},render:function(){var n=this.handsonInstance;n&&n.render()},updateConfiguration:function(n,e){var t=this.options;for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s]);!e&&this.updateSetting()},loadData:function(n){var e=this.handsonInstance;e&&e.loadData(n),n&&n.length},updateSetting:function(){var n=this.handsonInstance;n&&n.updateSettings(this.options)},highlightCells:function(n){var e=this.handsonInstance,t=n.length;if(e){var s=e.setCellMeta,o=Math.floor((t-0+0)/2);r(n,0,o,"highlightCells",e.setCellMeta),r(n,o+1,t,"highlightCells",e.setCellMeta);for(var a=0;a<t;a++)s(n[0],n[1],"className","highlightCells")}},highlightCell:function(n,e,t,s){e>-1&&((0,this.handsonInstance.setCellMeta)(n,e,"className",t),s||this.render())},removeHiglightCell:function(n,e,t,s){e>-1&&((0,this.handsonInstance.setCellMeta)(n,e,"className",""),s||this.render())},removeHighlightColumn:function(n,e){var t,s=this.handsonInstance;if(s){t=s.countRows();for(var o=s.setCellMeta,a=0;a<t;a++)o(a,n,"className","");this.highlightedColumn=n,e||this.render()}},selectCell:function(n,e){var t=this.handsonInstance;t&&(t.selectCell(n,e),t.scrollViewportTo(n,e,!1,!0))},highlightColumns:function(n,e,t){var s,o=this.handsonInstance;if(e=e||"highlightColumn",o){s=o.countRows();for(var a=o.setCellMeta,i=0,l=n.length;i<l;i++)for(var h=n[i],r=0;r<s;r++)a(r,h,"className",e)}t||this.render()},highlightColumn:function(n,e,s){if(t.isUndefined(this.highlightedColumn)||this.removeHighlightColumn(this.highlightedColumn,!0),n>-1){var o,a=this.handsonInstance;if(e=e||"highlightColumn",a){o=a.countRows();for(var i=a.setCellMeta,l=0;l<o;l++)i(l,n,"className",e);this.highlightedColumn=n}}s||this.render(),a&&a.selectCell(0,+n)},setHeader:function(n,e){var t=this.handsonInstance;t&&(t.updateSettings({colHeaders:n}),e||this.render())},setNestedHeader:function(n,e){var t=this.handsonInstance;t&&(t.updateSettings({colHeaders:!0,nestedHeaders:n}),e||this.render())},clear:function(){var n=this.handsonInstance;n&&n.loadData([[]])},addHooks:function(e,t){var s=this.handsonInstance;s&&n.Handsontable.hooks.add(e,t,s)},scrollViewPortTo:function(n,e){var t=this.handsonInstance;t&&t.scrollViewportTo(n,e)}},h.constructContextMenu=c,e.extend(e.getModule("SA/UI/Class"),o.HANDSON,h)}(this);!function(e){e.module.getModule("SA/Request/SheetRequest").postMessage=function(e,t){var s=new CustomEvent(e,t);window.dispatchEvent(s)}}(this);!function(e){var t=e.module,n=t.getModule("SA/Common/Utils"),s=(t.getModule("SA/UI/Constants/ClassNames"),e.$);function i(e,t,n,i,l){if(this.element=e,this.zohoComponent=!0,this.handler=t,"icon"==i)this.element.setAttribute("data-content-type","icon-text");else if("custom"==i)this.element.setAttribute("data-content-type","custom"),this._component=s(this.element).zselect({options:l,change:this._eventExecuter.bind(this)});else if("custom-settings"==i)return this.handler=t.change,t.change=this._eventExecuter.bind(this),void(this._component=s(this.element).zselect(t));this._component=s(this.element).zselect({change:this._eventExecuter.bind(this)}),this.v=null}i.prototype={disableField:function(e){this.propChange=!0,s(this.element).zselect("setOptionAttributes",e,"disabled",!0),this.propChange=!1},enableField:function(e){this.propChange=!0,s(this.element).zselect("setOptionAttributes",e,"disabled",!1),this.propChange=!1},_eventExecuter:function(e,t){e&&t&&(this.isTrigger||t.fromUI)&&this.handler&&this.handler(e,t,this.propChange),this.isTrigger=!1,this.propChange=!1},show:function(){n.show(s(this.element).zselect("getElement")[0])},hide:function(){n.hide(s(this.element).zselect("getElement")[0])},enable:function(){s(this.element).zselect("setAttribute","disabled",!1)},set width(e){s(this.element).setAttibute("data-width",e)},get val(){return this.v},set listwidth(e){s(this.element).zselect({dropdownList:{width:e}})},disable:function(){s(this.element).zselect("setAttribute","disabled",!0)},set value(e){this.v=e,this.isTrigger=!1,s(this.element).zselect("setValue",e)},get value(){return s(this.element).zselect("getValue")},refresh:function(){s(this.element).zselect("refresh")},destroy:function(){n.removeChildren(this.element),s(this.element).zselect("destroy")},open:function(){s(this.element).zselect("open")},setValueChange:function(e){this.isTrigger=!0;var t=this.v;this.v=e,this.v==t&&(this.isTrigger=!1,this.handler&&this.handler({},{value:e})),s(this.element).zselect("setValue",e)},close:function(){s(this.element).zselect("close")},updateSettings:function(e){s(this.element).zselect(e)}},i.constructFromData=function(e,t,s){var l=t.data;if(!n.isUndefined(l)&&l.length){var h=function(e){if(!n.isUndefined(e)&&e.length){for(var t=document.createDocumentFragment(),s=0,i=e.length;s<i;s++){var l=document.createElement("option");l.value=e[s].label||e[s].key,l.setAttribute("data-label",e[s].value),t.append(l)}return t}return null}(l);e.appendChild(h);var o=new i(e,t.handler,s);return o.value=l[0].key,o}},i.constructFromDOM=function(e,t,s,l,h){if(!n.isUndefined(e)){var o=t.handler;return h&&((o=h).change=t.handler,s="custom-settings"),new i(e,o,l,s)}},i.constructFromDataSource=function(e,t,s,l){if(!n.isUndefinedAll([e,t]))return new i(e,s,l,"custom",t)},t.extend(t.getModule("SA/UI/Class"),t.getModule("SA/UI/Constants/ClassNames").SELECT_MENU,i)}(this);!function(e){var t=e.module,o=t.getModule("SA/Common/Utils"),n=t.getModule("SA/UI/Constants/ClassNames"),s=t.getModule("SA/Controller/UIActionMapper"),C=t.getModule("SA/Request/Constants"),l=t.getModule("SA/UI/Constants/MenuScope");function u(e){this.holder=e,this.TEMPLATE=t.getModule("SA/UI/Constants/TemplateConstants").SHEET_DUPLICATE_COMPONENT_HOLDER,this.construct()}e.currentScope=null,u.prototype={afterRender:function(){s.fireCustomEvent(C.DC_DUPLICATE_VIEW_RENDER,{detail:{curentScope:l.scope}})},showCallBack:function(){s.fireCustomEvent(C.DC_DUPLICATE_VIEW_OPEN,{detail:{curentScope:l.scope}})},hideCallBack:function(){s.fireCustomEvent(C.DC_DUPLICATE_VIEW_CLOSE,{detail:{curentScope:l.scope}})}},o.extend(u.prototype,t.getModule("SA/UI/Class/UIComponent").prototype),t.extend(t.getModule("SA/UI/Class"),n.SHEET_DUPLICATE_COMPONENT_HOLDER,u)}(this);!function(t){var e=t.module,o=e.getModule("SA/Common/Utils"),n=e.getModule("SA/UI/Constants/ClassNames"),s=e.getModule("SA/Controller/UIActionMapper"),E=e.getModule("SA/Request/Constants");function l(t){this.holder=t,this.TEMPLATE=e.getModule("SA/UI/Constants/TemplateConstants").SHEET_FIND_UNIQUE,this.construct()}l.prototype={afterRender:function(){s.fireCustomEvent(E.DC_UNIQUE_VIEW_RENDER)},showCallBack:function(){s.fireCustomEvent(E.DC_UNIQUE_VIEW_OPEN)},hideCallBack:function(){s.fireCustomEvent(E.DC_UNIQUE_VIEW_CLOSE)}},o.extend(l.prototype,e.getModule("SA/UI/Class/UIComponent").prototype),e.extend(e.getModule("SA/UI/Class"),n.SHEET_FIND_UNIQUE,l)}(this);!function(e){var t=e.module,n=t.getModule("SA/UI/View/Controller"),r=t.getModule("SA/UI/View/Config"),u=t.getModule("SA/Common/Utils"),E=t.getModule("SA/UI/Class"),i=t.getModule("SA/UI/Constants/ClassNames"),I=t.getModule("SA/UI/View/Constants"),f=1;I.REFINE_SIDEBAR_VIEW=f++,I.SIDEBAR_VIEW=f++,I.REFINE=f++,I.CLUSTER=f++,I.FILL_MISSING_VALUES=f++,I.SIDEBAR_ERROR=f++,I.DEDUPLICATE=f++,I.FIND_UNIQUE=f++,I.FREQUENCY=f++,e._buffer=u.createPureObject(),n.init=function(e){_buffer[I.SIDEBAR_VIEW]=new E[i.VIEW_INSTANCE](r.getDataCleansingConfigurations(e)),_buffer[I.REFINE]=new E[i.VIEW_INSTANCE](r.getRefineViewConfigurations(e))},n.getSheetAppSidebarView=function(){return _buffer[I.SIDEBAR_VIEW]},n.getRefineView=function(){return _buffer[I.REFINE]},n.hideAll=function(){for(var e in _buffer){var t=_buffer[e];t.current&&(t.hide(t.current),t.current=null)}}}(this);!function(t){var n=t.module,i=n.getModule("SA/UI/Class"),e=n.getModule("SA/Common/Utils"),o=n.getModule("SA/UI/Constants/ClassNames");function s(t){this.current=null,this.config=t}s.prototype={set mode(t){this.show(t)},verifyAndLoad:function(t){this.current!=t&&this.show(t)},show:function(t,n){!e.isUndefined(this.current)&&this.hide(this.current),e.isUndefinedAll([t,this.config[t]])||(!function(t){for(var n=0;n<t.length;n++)t[n].component.show()}(this.config[t]),this.current=t)},hide:function(t){if(-1==t)for(var n in this.config)this.hide(n);else e.isUndefinedAll([t,this.config[t]])||function(t){for(var n=0;n<t.length;n++)t[n].component.hide()}(this.config[t])},getCurrentView:function(){return this.current}},n.extend(i,o.VIEW_INSTANCE,s)}(this);!function(e){var t=e.module,o=t.getModule("SA/Common/Utils"),r=t.getModule("SA/Service");function a(e){this.holder=e,this.TEMPLATE=t.getModule("SA/UI/Constants/TemplateConstants").REFINE_AREA,this.dom=null,this.display=!1,this.constructed=!1,this.attached=!1,this.cache=o.createPureObject(),this.construct()}function s(e){this.holder=e,this.TEMPLATE="RefineDataArea",this.dom=null,this.display=!1,this.constructed=!1,this.attached=!1,this.cache=o.createPureObject(),this.construct()}a.prototype={cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;e.toolBarArea=o.querySelectorID(t,"RefineToolBar"),e.tabsArea=o.querySelectorID(t,"RefineTabs"),e.playArea=o.querySelectorID(t,"RefinePlayGround"),e.sidepanelArea=o.querySelectorID(t,"SidePanelHolder")}},afterRender:function(){r.isSheet&&this.sheetMode()},getToolBarArea:function(){var e=this.cache;return e&&e.toolBarArea},sheetMode:function(){if(this.constructed){var e=this.cache;e.tabsArea.remove(),e.toolBarArea.remove()}},getTabsArea:function(){var e=this.cache;return e&&e.tabsArea},getPlayArea:function(){var e=this.cache;return e&&e.playArea},getSidePanelHolder:function(){var e=this.cache;return e&&e.sidepanelArea}},s.prototype={cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;e.toolBarArea=o.querySelectorID(t,"RefineToolBar"),e.playArea=o.querySelectorID(t,"RefinePlayGround")}},afterRender:function(){r.isSheet&&this.sheetMode()},sheetMode:function(){this.constructed&&this.cache.toolBarArea.remove()},getToolBarArea:function(){var e=this.cache;return e&&e.toolBarArea},getPlayArea:function(){var e=this.cache;return e&&e.playArea}},o.extend(s.prototype,t.getModule("SA/UI/Class/UIComponent").prototype),t.extend(t.getModule("SA/UI/Class"),t.getModule("SA/UI/Constants/ClassNames").REFINE_DATA_AREA,s),o.extend(a.prototype,t.getModule("SA/UI/Class/UIComponent").prototype),t.extend(t.getModule("SA/UI/Class"),t.getModule("SA/UI/Constants/ClassNames").REFINE_COMPONENT,a)}(this);!function(e){var t=e.module,l=t.getModule("SA/Common/Utils"),o=t.getModule("SA/Service"),n=t.getModule("SA/UI/Class"),s=t.getModule("SA/UI/Class/UIComponent"),i=t.getModule("SA/UI/Constants/ClassNames"),u=t.getModule("SA/UI/Constants/TemplateConstants"),c=(t.getModule("SA/UI/Component/Sidebar/Grid/GridConstants"),t.getModule("SA/Common/Template").getTemplate),a=t.getModule("SA/Controller/UIActionMapper"),r=t.getModule("SA/UI/Constants/ClusterConstants");function h(e){this.holder=e,this.TEMPLATE=u.CLUSTER_HEADER,this.dom=null,this.cache=l.createPureObject(),this.constructed=!1,this.display=!1,this.algoSelectMenu=null,this.construct()}function d(e,t){if(e&&t){var l=(t.item||t).value;l=l,a.runClusterAction(void 0,void 0,void 0,l)}}h.prototype={cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;if(l.isUndefined(t))return;e.algoSelect=l.querySelectorID(t,"ClusterAlgoSelect")}},setLabel:function(){this.constructed&&this.dom&&l.setLabel(l.querySelectorID(this.dom,"label"),SA_EN.Preview.Sidebar.FixMisspeling.Header)},setupAlgoSelectMenu:function(){if(this.constructed){var e=this.cache.algoSelect;if(!l.isUndefined(e)){var t=o.getSupportedClusterAlgorithm();this.algoSelectMenu=n[i.SELECT_MENU].constructFromData(e,{data:t,handler:d},void 0),this.algoSelectMenu.value=r.DEFAULT_ALGORITHM,1==t.length?(this.algoSelectMenu.value=t[0].key,this.singleAlgo=!0,this.hide()):(this.singleAlgo=!1,this.show())}}},showAlgoMenu:function(){this.algoSelectMenu&&this.algoSelectMenu.show()},hideAlgoMenu:function(){this.algoSelectMenu&&this.algoSelectMenu.hide()},showCallBack:function(e){this.singleAlgo&&this.hide(),logger.log("remove hideoption in cluster UI"),!e&&this.hide()},_show:function(){l.show(this.dom),this.display=!0},getSelectedAlgorithm:function(){var e=this.algoSelectMenu;if(!l.isUndefined(e))return e.value},afterRender:function(){},setClusterMenuValue:function(e,t){null!=this.algoSelectMenu&&(t?this.algoSelectMenu.setValueChange(e):this.algoSelectMenu.value=e)},getClusterMenuValue:function(){return this.constructed&&this.algoSelectMenu?+this.algoSelectMenu.value:r.DEFAULT_ALGORITHM}},h.constructReplaceAllCheckBox=function(e){logger.log("discuss about cluster checked state");var t=c(u.CLUSTER_GRID_HEADER_CHECKBOX),l=t.querySelector("input");return e?l.setAttribute("checked",e):l.removeAttribute("checked"),t.innerHTML.trim()},l.extend(h.prototype,s.prototype),t.extend(t.getModule("SA/UI/Class"),i.CLUSTER_HEADER,h)}(this);!function(t){var e=t.module,r=e.getModule("SA/Model/Class"),i=e.getModule("SA/Common/Utils"),s=e.getModule("SA/Common/Template").getTemplate,c=e.getModule("SA/Model/Constants/ClassNames"),a=e.getModule("SA/Model/Constants/TemplateConstants");function o(t,e,o,l,d,g,v){this.sid=t,this.tid=e,this.ingoredRows=i.createPureObject(),this.clusterInstance=new r[c.CLUSTER_MODEL_INSTANCE](t,e,o,l,d,g,v),function(t,e,r){var i={value:s(a.LAST_CLUSTER),toString:function(){return this.value.innerHTML.trim()}};this.data=[];var c,o,l,d=0,g=!1,v=t.getClusterCells();for(var p in v){var S=v[p].groups,C=v[p].groupCount-1;for(var m in g=e||r-- >0,S){var I=S[m];m==C?c=o=i:0==m?(c=new u(v[p].replaceBy,d),o=new n(g,d)):c=o="",l=new h(I.value,I.rowIDs.length,g,d,m==C),this.data.push({clusterId:+m,groupId:+p,clusterDiv:l,checkBox:o,inputBox:c}),++d}}}.call(this,this.clusterInstance,g,v)}function u(t,e){this.dom=s(a.CLUSTER_INPUT_BOX),this.cache=i.createPureObject(),this.cache.inputBox=this.dom.querySelector("input"),this.cache.inputBox.id=i.constructID(["gi",e]),this.value=t}function n(t,e){this.dom=s(a.CLUSTER_CHECK_BOX),this.cache=i.createPureObject(),this.cache.checkBox=this.dom.querySelector("input");var r=i.constructID(["gc",e]);this.cache.checkBox.id=r,this.cache.label=this.dom.querySelector("label"),this.cache.label.setAttribute("for",r),this.value=t}function h(t,e,r,c,o){this.dom=s(a.CLUSTER_GROUP),this.cache=i.createPureObject(),this.cache.checkBox=this.dom.querySelector("input"),this.cache.cholder=this.dom.querySelector("#cholder"),function(t,e,r,s){var c=this.dom,a=i.constructID(["ggi",r]),o=i.constructID(["gga",r]);if(c){var u=c.querySelector("input"),n=c.querySelector(".textContent"),h=c.querySelector("a");u.setAttribute("id",a),h.setAttribute("id",o),n.setAttribute("title",t),n.setAttribute("id",i.constructID(["ggc",r])),h.textContent="("+e+")",n.textContent=t,s&&i.addClass(c.querySelector(".cgarea"),"lastCluster")}}.call(this,t,e,c,o),this.value=r}o.prototype={getData:function(){for(var t=this.data,e=[],r=0,i=t.length;r<i;r++){var s=t[r];e.push({group:s.clusterDiv.toString(),checked:s.checkBox.toString(),input:s.inputBox.toString()})}return this.model=e,e},setReplaceValue:function(t,e){var r=this.data[t].inputBox;r.value=e,this.model[t].input=r.toString(),this.clusterInstance.setReplaceValue(this.data[t].groupId,e)},setClusterValueCheckState:function(t,e){var r=this.data[t].clusterDiv;r.value=e,this.model[t].group=r.toString(),this.clusterInstance.setClusterCheckState(this.data[t].groupId,this.data[t].clusterId,e)},setClusterGroupCheckState:function(t,e){var r=this.data[t].checkBox;r.value=e,this.model[t].checked=r.toString(),this.clusterInstance.setCheckedState(this.data[t].groupId,e);for(var i=this.data[t].groupId;this.data[t]&&i==this.data[t].groupId;)this.setClusterValueCheckState(t,e),t++},setReplaceAllState:function(t){for(var e,r=this.data,i=0,s=r.length;i<s;i++){var c=r[i].groupId;c!=e&&(this.setClusterGroupCheckState(i,t),e=c)}},getPreviewRows:function(t){if(!i.isUndefined(t)){var e=this.data[t].groupId,r=this.data[t].clusterId;return this.clusterInstance.getRows(e,r)}},getCount:function(){return this.clusterInstance.getCount()}},u.prototype={set value(t){this.cache.inputBox.setAttribute("value",t)},get value(){return toString()},toString:function(){var t=this.dom;return t&&t.innerHTML.trim()}},n.prototype={set value(t){var e=this.cache;t&&e.checkBox.setAttribute("checked",t),!t&&e.checkBox.removeAttribute("checked")},get value(){return toString()},toString:function(){var t=this.dom;return t&&t.innerHTML.trim()}},h.prototype={set value(t){var e=this.cache;t&&e.checkBox.setAttribute("checked",t),!t&&e.checkBox.removeAttribute("checked"),!t&&i.addClass(e.cholder,"disabled"),t&&i.removeClass(e.cholder,"disabled")},get value(){return toString()},toString:function(){var t=this.dom;return t&&t.innerHTML.trim()}},e.extend(r,c.CLUSTER_GRID_MODEL_INSTANCE,o)}(this);!function(e){var t=e.module,s=t.getModule("SA/Model/Constants/ClassNames"),r=(t.getModule("SA/Model/Constants/TemplateConstants"),t.getModule("SA/Common/Utils")),u=t.getModule("SA/Model/Class");function o(e,t,s,u,o,i,c){this.sid=e,this.tid=t,this.col=s,this.level=u,function(e,t,s){this.clusters=r.createPureObject();var u=!1;if(!r.isUndefined(e)){for(var o=0,i=e.length;o<i;o++)u=t||s-- >0,this.clusters[o]=new n(o,e[o],u);this.count=o}}.call(this,o,i,c)}function n(e,t,s){this.replaceBy=null,this.groupCount=null,this.checked=!0,this.groupId=e,this.groups=r.createPureObject(),function(e,t){for(var s=0,u=0,o=0,n=e.length;o<n;o++){var i=e[o],c=i.rowID;"s"==(typeof c)[0]&&(c=JSON.parse(i.rowID)),c.length>s&&(s=c.length,u=o),this.groups[o]=r.createPureObject(),this.groups[o].value=i.value,this.groups[o].rowIDs=c,this.groups[o].checked=t}this.replaceBy=e[u].value,this.groupCount=o}.call(this,t,s)}o.prototype={getClusterCells:function(){return this.clusters},getRows:function(e,t){if(!r.isUndefined(e,t))return this.clusters[e].groups[t].rowIDs},getClusterByGroup:function(e){var t=this.clusters[e];if(!r.isUndefined(t))return t},setReplaceValue:function(e,t){var s=this.clusters[e];s&&s.setReplaceValue(t)},setCheckedState:function(e,t){var s=this.clusters[e];s&&s.setCheckedState(t)},getCount:function(){return this.count||0},setClusterCheckState:function(e,t,s){var r=this.clusters[e];r&&r.setClusterState(t,s)},getAsPayLoad:function(){return function(){logger.error("Cluster payload should properly encode");var e,t=this.clusters,s=[];for(var u in t){var o=t[u];if(o.checked){var n=r.createPureObject(),i=o.replaceBy;n.value=i,n.rowsId=[];var c=o.groups;for(var l in e=!1,c)c[l].checked&&i!=c[l].value&&(e=!0,n.rowsId=n.rowsId.concat(c[l].rowIDs));e&&s.push(n)}}return s}.call(this)}},n.prototype={getCluster:function(e){return this.groups[e]},setReplaceValue:function(e){this.replaceBy=e},setCheckedState:function(e){this.checked=e},getClusterValue:function(e){var t=this.groups[e];return t&&t.value},setClusterState:function(e,t){var s=this.groups[e];s&&(s.checked=t)}},t.extend(u,s.CLUSTER_MODEL_INSTANCE,o)}(this);!function(e){var t=e.module,i=t.getModule("SA/Common/Utils"),s=t.getModule("SA/UI/Constants/TemplateConstants"),a=t.getModule("SA/UI/Constants/ClassNames"),c=t.getModule("SA/UI/Class/UIComponent"),o=t.getModule("SA/UI/Component/FillMissingValue/Constants"),l=t.getModule("SA/Controller/UIActionMapper"),r=t.getModule("SA/UI/Constants/Message"),n=(t.getModule("SA/UI/Class"),t.getModule("SA/Common/Constants/TypeConstants"));function u(e){this.holder=e,this.constructed=!1,this.display=!1,this.cache=i.createPureObject(),this.dom=null,this.TEMPLATE=s.FILL_MISSING_VALUE,this.val=null,this.construct()}function h(){l.showEmptyRecords()}function d(e,t){return function(){t.val=e,e==o.DEFAULT_VALUE&&t.cache.inputBox.focus()}}u.prototype={cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;i.isUndefined(t)||(e.replaceWithDefaultValue=i.querySelectorID(t,"FillDefault"),e.replaceWithPreviousValue=i.querySelectorID(t,"FillPrevious"),e.removeBlankRows=i.querySelectorID(t,"RemoveRows"),e.inputBox=i.querySelectorID(t,"FillDefaultValue"),e.average=i.querySelectorID(t,"FillAverage"),e.maxOccurence=i.querySelectorID(t,"FillMax"),e.datepicker=i.querySelectorID(t,"datepicker"),e.datetimepicker=i.querySelectorID(t,"datetimepicker"),e.datetimetoggler=i.querySelectorID(t,"datetimetoggler"),e.fillNotification=i.querySelectorID(t,"FillMissingNotification"),e.datetoggler=i.querySelectorID(t,"datetoggler"))}},setLabel:function(){if(this.constructed&&this.dom){var e=this.dom;i.setLabel(i.querySelectorID(e,"FHeader"),SA_EN.Preview.Sidebar.FixMissing.Label),i.setLabel(i.querySelectorID(e,"FPrevLabel"),SA_EN.Preview.Sidebar.FixMissing.Previous),i.setLabel(i.querySelectorID(e,"FDefaultLabel"),SA_EN.Preview.Sidebar.FixMissing.Default),i.setLabel(i.querySelectorID(e,"FRmveLabel"),SA_EN.Preview.Sidebar.FixMissing.Remove),i.setLabel(i.querySelectorID(e,"FMaxLabel"),SA_EN.Preview.Sidebar.FixMissing.Max),i.setLabel(i.querySelectorID(e,"FAvgLabel"),SA_EN.Preview.Sidebar.FixMissing.Average)}},hideRadio:function(e){if(this.constructed){var t=this.cache;switch(e){case o.DEFAULT_VALUE:i.hide(t.replaceWithDefaultValue.closest("div"));break;case o.FILL_PREVIOUS_VALUE:i.hide(t.replaceWithPreviousValue.closest("div"));break;case o.REMOVE_BLANKS:i.hide(t.removeBlankRows.closest("div"));break;case o.AVERAGE:i.hide(t.average.closest("div"));break;case o.MAX_OCCUR:i.hide(t.maxOccurence.closest("div"))}this.reset()}},setColumnCategory:function(e){(function(e){var t=this.cache;if(this.showAll(),t.inputBox.setAttribute("placeholder",""),i.hide(t.average.closest("div")),"EMPTY"==e)i.hide(t.replaceWithPreviousValue.closest("div")),i.hide(t.maxOccurence.closest("div"));else if("TEXT"==e)this.setInputBoxType("text");else if("DATE"==e){var s="DD-MMM-YYYY";l.isCSV()&&(s=l.getDateFormatForColumn(void 0,void 0,l.getColumnMenuValue())),t.inputBox.setAttribute("placeholder",s)}else if("DATE_TIME"==e){var s="DD-MMM-YYYY hh:mm:ss";l.isCSV()&&(s=l.getDateFormatForColumn(void 0,void 0,l.getColumnMenuValue())),t.inputBox.setAttribute("placeholder",s)}else if("TIME"==e){var s="HH:mm:ss";t.inputBox.setAttribute("placeholder",s)}else switch(e){case n.DECIMAL:case n.NUMBER:case n.CURRENCY:case n.PERCENT:case n.AUTO_NUMBER:i.show(t.average.closest("div"))}}).call(this,e)},showRadio:function(e){if(this.constructed){var t=this.cache;switch(e){case o.DEFAULT_VALUE:i.show(t.replaceWithDefaultValue.closest("div"));break;case o.FILL_PREVIOUS_VALUE:i.show(t.replaceWithPreviousValue.closest("div"));break;case o.REMOVE_BLANKS:i.show(t.removeBlankRows.closest("div"));break;case o.AVERAGE:i.show(t.average.closest("div"));break;case o.MAX_OCCUR:i.show(t.maxOccurence.closest("div"))}this.reset()}},bindEvents:function(){if(this.constructed){var e=this.cache,t=this;i.bindEvent(e.replaceWithDefaultValue,"change",d(o.DEFAULT_VALUE,this)),i.bindEvent(e.replaceWithPreviousValue,"change",d(o.FILL_PREVIOUS_VALUE,this)),i.bindEvent(e.removeBlankRows,"change",d(o.REMOVE_BLANKS,this)),i.bindEvent(e.average,"change",d(o.AVERAGE,this)),i.bindEvent(e.maxOccurence,"change",d(o.MAX_OCCUR,this)),i.bindEvent(e.fillNotification,"click",h),i.bindEvent(e.inputBox,"focus",function(){e.replaceWithDefaultValue.checked=!0,t.val=o.DEFAULT_VALUE}),i.bindEvent(e.inputBox,"keyup",function(){""!=this.value.trim()&&(e.replaceWithDefaultValue.checked=!0,t.val=o.DEFAULT_VALUE,t.value=this.value.trim())})}},reset:function(){if(this.constructed){var e=this.cache;i.hide(e.datetimetoggler),i.hide(e.datepicker),i.hide(e.datetimepicker),i.hide(e.datetoggler),e.replaceWithDefaultValue.checked=!1,e.replaceWithPreviousValue.checked=!0,e.removeBlankRows.checked=!1,this.cache.inputBox.type="text",e.inputBox.value="",e.average.checked=!1,e.maxOccurence.checked=!1,e.fillNotification.textContent=""}this.val=o.FILL_PREVIOUS_VALUE},setInputBoxType:function(e){this.constructed&&(this.cache.inputBox.type=e)},showCallBack:function(){this.reset();this.cache},getValue:function(){return this.val},getInputBoxValue:function(){if(this.val===o.DEFAULT_VALUE){this.cache;if(!this.constructed)return;return this.value||""}},showAll:function(){var e=this.cache;i.show(e.replaceWithPreviousValue.closest("div")),i.show(e.replaceWithDefaultValue.closest("div")),i.show(e.maxOccurence.closest("div")),i.show(e.average.closest("div")),i.show(e.removeBlankRows.closest("div")),i.show(e.inputBox),i.hide(e.datepicker),i.hide(e.datetimepicker),i.hide(e.datetimetoggler),i.hide(e.datetoggler)},setCount:function(e){this.cache.fillNotification.textContent=e+r.MISSING_VALUES}},i.extend(u.prototype,c.prototype),t.extend(t.getModule("SA/UI/Class"),a.FILL_MISSING_VALUE,u)}(this);!function(t){var e=t.module,n=e.getModule("SA/Common/Utils"),o=e.getModule("SA/UI/Class"),i=e.getModule("SA/UI/Constants/ClassNames"),c=e.getModule("SA/Controller/UIActionMapper");function a(t){this.holder=t,this.actionButtons=null,this.display=!1,this.attached=!1,this.dom=null,this.TEMPLATE=e.getModule("SA/UI/Constants/TemplateConstants").SIDEBAR_FOOTER,this.cache=n.createPureObject(),this.construct()}a.prototype={cacheElements:function(){if(this.constructed){var t=this.cache,e=this.dom;t.notificationArea=n.querySelectorID(e,"infoArea"),t.refineapplyButton=n.querySelectorID(e,"RefineApplyButton"),t.applyButton=n.querySelectorID(e,"RefineButton"),t.cancelButton=n.querySelectorID(e,"RefinceCancelButton")}},setLabel:function(){if(this.constructed&&this.dom){var t=this.cache;n.setLabel(t.applyButton,SA_EN.Preview.Sidebar.Footer.PrimaryButton),n.setLabel(t.cancelButton,SA_EN.Preview.Sidebar.Footer.SecondaryButton),n.setLabel(t.refineapplyButton,SA_EN.Preview.Sidebar.Footer.RefineandApply)}},changeLabel:function(t,e){this.cache[t].textContent=e},showButton:function(t){n.show(this.cache[t])},hideButton:function(t){n.hide(this.cache[t])},bindEvents:function(){if(this.constructed){var t=this.cache;n.bindEvent(t.applyButton,"click",c.onSidebarApplyClick),n.bindEvent(t.cancelButton,"click",c.onRefineCancelClick),n.bindEvent(t.refineapplyButton,"click",c.onRefineApplyClick)}},updateBand:function(t){var e=this.cache.notificationArea;n.isUndefined(e)||(e.textContent=t)},set message(t){t&&this.updateBand(t)},disableButton:function(t,e){var n=this.cache;e?(n[t].style.pointerEvents="none",n[t].style.opacity="0.5"):(n[t].style.pointerEvents="",n[t].style.opacity="1")}},n.extend(a.prototype,e.getModule("SA/UI/Class/UIComponent").prototype),e.extend(o,i.SIDEBAR_FOOTER,a)}(this);!function(e){var t=e.module,i=t.getModule("SA/Common/Utils"),s=t.getModule("SA/UI/Constants/TemplateConstants"),n=t.getModule("SA/Common/Template").getTemplate,a=t.getModule("SA/UI/Class/UIComponent"),r=t.getModule("SA/Service"),o=t.getModule("SA/UI/Constants/ClassNames"),d=t.getModule("SA/Controller/UIActionMapper");function l(e,t){this.holder=e,this.config=i.createPureObject(),this.TEMPLATE=s.REFINE_SIDEBAR,this.cache=i.createPureObject(),this.dom=null,this.constructed=!1,this.attached=!1,i.mixIn(this.config,t),this.isTrayOpen=!1,this.construct()}function c(e,t){return function(i){switch(e){case"REFINE":t.select(e),d.onSidePanelRefineClick();break;case"SETTINGS":t.select(e,void 0,350),d.onSidePanelSettingsClick();break;case"ZIA":d.onSidePanelZiaClick()}}}l.prototype={cacheElements:function(){if(this.constructed&&this.dom){var e=this.cache,t=this.dom;e.sidebarContentArea=i.querySelectorID(t,"SidebarContentArea"),e.sidebarMenuHolder=i.querySelectorID(t,"SidebarMenuHolder"),e.sidePanelHolder=i.querySelectorID(t,"SidePanelHolder"),e.sidePanelHeading=i.querySelectorID(t,"SidePanelHeading"),e.sidePanelClose=i.querySelectorID(t,"SidePanelClose"),e.sidePanelHeaderHolder=t.querySelector(".spHdr"),this.attachDefaultOptions()}},bindEvents:function(){var e=this.cache;i.bindEvent(e.sidePanelClose,"click",d.closeSidePanel)},hideSidePanelHeader:function(){this.cache.sidePanelHeaderHolder&&i.hide(this.cache.sidePanelHeaderHolder)},showSidePanelHeader:function(){this.cache.sidePanelHeaderHolder&&i.show(this.cache.sidePanelHeaderHolder)},setHeading:function(e){this.cache.sidePanelHeading.textContent=e},getChamber:function(){var e=this.cache;return e&&e.sidebarContentArea},attachDefaultOptions:function(){var e=r.getSidebarMenuList(),t=this.cache,a=t.sidebarMenuHolder;if(!i.isUndefined(a)){for(var o=0,d=e.length;o<d;o++){var l=n(s["SIDEBAR_"+e[o].id]);t[e[o].id]=l,i.setLabel(i.querySelectorID(l,"Label"),e[o].label),a.append(l),i.bindEvent(l,"click",c(e[o].id,this))}1==e.length&&(this.hideMenuHolder(),this.openTray())}},openTray:function(e){if(e=e||450,this.constructed){var t=this.cache.sidePanelHolder;t&&(350==e?(i.addClass(t,"sdPanelSetting"),i.removeClass(t,"sdPanelCluster")):(i.addClass(t,"sdPanelCluster"),i.removeClass(t,"sdPanelSetting")),i.show(t),t.style.width=e+"px",this.isTrayOpen=!0)}},closeTray:function(){if(this.constructed){var e=this.cache.sidePanelHolder;e&&(e.style.width="0px"),this.prev&&i.removeClass(this.prev,"active"),this.prev=null,this.isTrayOpen=!1}},hideCallBack:function(){},select:function(e,t,s){if(this.constructed&&!i.isUndefined(e)){var n=this.cache[e];this.prev&&i.removeClass(this.prev,"active");var a=!1;return n!=this.prev||t?(a=!0,this.openTray(s),i.addClass(n,"active"),this.prev=n):(this.closeTray(),this.prev=null),a}},toggleTray:function(e){this.isTrayOpen?this.closeTray(e):this.openTray(e),this.isTrayOpen=!this.isTrayOpen},hideMenuHolder:function(){if(this.constructed){var e=this.cache;i.hide(e.sidebarMenuHolder)}},showMenuHolder:function(){if(this.constructed){var e=this.cache;i.show(e.sidebarMenuHolder)}},disableAll:function(){this.closeTray();var e=r.getSidebarMenuList(),t=this.cache;e.forEach(function(e,s,n){i.addClass(t[e.id],"disabled dsblPointrEvents")})},enableAll:function(){this.closeTray();var e=r.getSidebarMenuList(),t=this.cache;e.forEach(function(e,s,n){i.removeClass(t[e.id],"disabled dsblPointrEvents")})},isSidebarOpen:function(){return this.isTrayOpen}},i.extend(l.prototype,a.prototype),t.extend(t.getModule("SA/UI/Class"),o.REFINE_SIDEBAR,l)}(this);!function(_){var C=_.module.getModule("SA/Request/Constants");C.DC="DC",C.DC_ACTION="DC_Action",C.DC_ACTION_REFRESH="DC_Action_Refresh",C.DC_HIGHLIGHT_CELL="DC_HighlightCells",C.DC_PREVIEW="DC_PREVIEW",C.DC_CANCEL="DC_CANCEL",C.DC_DUPLICATE_VIEW_OPEN="DC_Duplicate_view_On_Open",C.DC_DUPLICATE_VIEW_CLOSE="DC_Duplicate_view_On_Close",C.DC_DUPLICATE_VIEW_RENDER="DC_Duplicate_view_On_Render",C.DC_UNIQUE_VIEW_RENDER="find_uniq_afterrender",C.DC_UNIQUE_VIEW_OPEN="find_uniq_open",C.DC_UNIQUE_VIEW_CLOSE="find_uniq_close",C.FREQUENCY="frequency",C.FREQUENCY_EDIT="frequency_edit"}(this);!function(t){var e=t.module,s=e.getModule("SA/UI/Constants/ClassNames"),o=e.getModule("SA/UI/Class"),i=e.getModule("SA/Common/Utils");function n(t){this.holder=t,this.TEMPLATE=e.getModule("SA/UI/Constants/TemplateConstants").SIDEBAR_MESSAGE,this.display=!1,this.dom=null,this.constructed=!1,this.cache=i.createPureObject(),this.construct()}n.prototype={set message(t){if(this.constructed){if(this.cache.messageArea.textContent=t,""==t)return void this.hide();this.show()}},cacheElements:function(){if(this.constructed){var t=this.cache;this.dom;t.messageArea=this.dom}}},i.extend(n.prototype,e.getModuleFrom(o,"UIComponent").prototype),e.extend(o,s.SIDEBAR_MESSAGE,n)}(this);!function(t){var e=t.module,o=e.getModule("SA/UI/Class"),s=e.getModule("SA/UI/Constants/ClassNames"),n=e.getModule("SA/Common/Utils");function c(t){this.holder=t,this.TEMPLATE=e.getModule("SA/UI/Constants/TemplateConstants").SIDEBAR_OPERATIONS_HOLDER,this.constructed=!1,this.cache=n.createPureObject(),this.construct()}c.prototype={cacheElements:function(){if(this.constructed){var t=this.cache,e=this.dom;t.holder=n.querySelectorID(e,"operationsHolder")}},getChamber:function(){if(this.constructed)return this.cache.holder},getPlayArea:function(){if(this.constructed)return this.dom}},n.extend(c.prototype,e.getModuleFrom(o,"UIComponent").prototype),e.extend(o,s.SIDEBAR_OPERATIONS_HOLDER,c)}(this);!function(e){var l=e.module,t=l.getModule("SA/Common/Utils"),r=(l.getModule("SA/UI/Class"),l.getModule("SA/UI/Class/ClusterGridEdit")),n=l.getModule("SA/Controller/UIActionMapper");logger.warn("handle cluster replace all click"),r.onClusterValueCheckChange=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1],o=l.checked;!o&&t.addClass(e.srcElement.closest("div").querySelector("#cholder"),"disabled"),o&&t.removeClass(e.srcElement.closest("div").querySelector("#cholder"),"disabled"),n.onclusterValueCheckChange(a,o)}},r.onClusterReplaceAllClick=function(e){if(e){var l=t.getElementFromEvent(e).checked;n.onClusterReplaceAllClick(l),n.reRenderClusterGrid()}},r.onClusterReplaceValueChange=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1],o=l.value;n.onClusterReplaceValueChange(a,o)}},r.onClusterLabelClick=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1],o=l.textContent;n.onClusterReplaceValueChange(a,o),n.reRenderClusterGrid()}},r.onClusterGroupCheckChange=function(e){if(e){var l=t.getElementFromEvent(e),r=l.id,a=t.separateID(r)[1],o=l.checked;n.onClusterGroupCheckChange(a,o),n.reRenderClusterGrid()}},r.onClusterFilterClick=function(e){if(e){var l=t.getElementFromEvent(e).id,r=t.separateID(l)[1];n.onClusterFilterClick(+r)}}}(this);!function(e){var t=e.module,n=(t.getModule("SA/UI/Class"),t.getModule("SA/Common/Utils")),l=t.getModule("SA/Controller/SheetAppController"),o=t.getModule("SA/Controller/SheetAppUIController"),s=t.getModule("SA/Common/Constants/OperationConstants"),u=t.getModule("SA/Model/Class"),a=t.getModule("SA/Model/Constants/ClassNames"),r=t.getModule("SA/Request/SheetRequest"),i=t.getModule("SA/Request/Constants"),c=(t.getModule("SA/UI/Constants/Message"),t.getModule("SA/UI/Constants/MenuScope"));e._clusterStore=null,e._frequencyMap=null,l.cluster={data:_clusterStore},l.open=function(e){o.openRefineview(),o.openTray(400),e&&l.loadColumn(e)},l.close=function(){o.closeRefinePanel()},l.load=function(e,t,s){l.open(e.columns),!n.isUndefined(e.currentCol)&&o.setColumnMenuValue(e.currentCol),!n.isUndefined(e.mode)&&o.setOperationMenuValue(e.mode);var u=o.getColumnMenuValue(),a=o.getOperationMenuValue();!s&&l.onSidebarOperationMenuChange(void 0,void 0,u,a)},l.loadColumn=function(e){o.loadColumn(e)},l.dispatchClusterEvent=function(e){r.postMessage(i.DC,{detail:{col:e,mode:s.CLUSTER,callback:l.ClusterConstruct,level:6}})},l.triggerColumnChange=function(e,t){-1!=e&&o.setColumnMenuValue(e,t)},l.dispatchMissingValueEvent=function(e){r.postMessage(i.DC,{detail:{col:e,mode:s.MISSING_VALUE,callback:o.showFillMissingValueView}})},l.onSidebarOperationMenuChange=function(t,n,u,a){if(a=+a,e._frequencyMap=null,o.resetDatacleaningview(),-1!=u)switch(a){case s.CLUSTER:o.showClusterView(),l.dispatchClusterEvent(u,a),o.showGridLoader();break;case s.MISSING_VALUE:o.showMessage(""),o.showGridLoader(),l.dispatchMissingValueEvent(u,a),o.resetFill();break;case s.DUPLICATE:c.scope=s.DUPLICATE,o.showFindDuplicateView();break;case s.FIND_UNIQUE:c.scope=s.FIND_UNIQUE,o.showFindDuplicateView();break;case s.FIND_COLUMN_FREQUENCY:c.scope=s.FIND_COLUMN_FREQUENCY,o.showColumnFrequency(),l.dispatchFrequencyEvent(u),o.hideGrid(),o.showGridLoader()}else o.showMessage(SA_EN.Preview.Sidebar.FixMissing.SelectColumn)},l.dispatchFrequencyEvent=function(e){r.postMessage(i.FREQUENCY,{detail:{col:e,mode:s.FIND_COLUMN_FREQUENCY,callback:l.constructColumnFrequency,level:-1}})},l.constructColumnFrequency=function(t){o.hideGridLoader(),e._frequencyMap=new u[a.COLUMN_SUMMARY](0,0,0,t),o.showColumnFrequency(e._frequencyMap.getData())},l.onRefineCancelClick=function(){_clusterStore=null,e._frequencyMap=null,l.triggerColumnChange(-1),o.close(),r.postMessage(i.DC_CANCEL)},l.ClusterConstruct=function(e){n.isUndefined(e)||(o.hideGridLoader(),e.length?(_clusterStore=new u[a.CLUSTER_GRID_MODEL_INSTANCE](0,0,0,0,e,!0),o.setClusterGridHeight(32*_clusterStore.data.length+40+2),o.loadClusterGrid(_clusterStore)):(o.showMessage(SA_EN.Preview.Sidebar.FixMisspeling.Alert),_clusterStore=null))},l.onClusterFilterClick=function(e){var t=_clusterStore.getPreviewRows(e);r.postMessage(i.DC_PREVIEW,{detail:{rows:t}})},l.onClusterReplaceAllClick=function(e){o.changeClusterReplaceAllHeader(e),_clusterStore.setReplaceAllState(e)},l.onclusterValueCheckChange=function(e,t){_clusterStore.setClusterValueCheckState(e,t)},l.onClusterReplaceValueChange=function(e,t){_clusterStore.setReplaceValue(e,t)},l.onClusterGroupCheckChange=function(e,t){_clusterStore.setClusterGroupCheckState(e,t)},l.onSidebarApplyClick=function(e,t,n){t=t||i.DC_ACTION;var l=o.getOperationMenuValue();switch(l=+l){case s.CLUSTER:r.postMessage(t,{detail:{callback:function(){_clusterStore=null,o.hideGrid(),n&&n(),o.hideGridLoader()},data:_clusterStore.clusterInstance}}),o.showGridLoader();break;case s.MISSING_VALUE:r.postMessage(t,{detail:{level:o.getFillValue(),value:o.getFillInputBoxValue(),col:o.getColumnMenuValue(),mode:s.MISSING_VALUE}}),o.resetFill(),o.showGridLoader()}},l.onRefineApplyClick=function(e){o.getColumnMenuValue();l.onSidebarApplyClick(e,i.DC_ACTION_REFRESH,function(){})},l.init=function(e){o.init(e)},l.showEmptyRecords=function(){r.postMessage("showEmptyRecords")},l.fireCustomEvent=function(e,t){r.postMessage(e,t)},l.frequencyEdit=function(e,t){if(e!=t){var n=o.getColumnMenuValue();o.getOperationMenuValue();l.fireCustomEvent(i.FREQUENCY_EDIT,{detail:{oldvalue:e,newvalue:t,col:n}})}},l.onFrequencyFilterClick=function(e){}}(this);!function(e){var t=e.module,n=t.getModule("SA/Controller/SheetAppUIController"),o=t.getModule("SA/UI/Component/Sidebar/Grid/GridConstants"),i=t.getModule("SA/UI/View/Controller"),E=t.getModule("SA/UI/Constants/ClassNames"),a=t.getModule("SA/UI/Registry/").getComponent,u=t.getModule("SA/Common/Utils"),d=t.getModule("SA/UI/View/Constants"),R=t.getModule("SA/UI/Class"),l=t.getModule("SA/UI/Component/FillMissingValue/Constants"),r=t.getModule("SA/UI/Constants/SidebarConstants");n.init=function(e){i.init(e)},n.close=function(){i.hideAll()},n.loadColumn=function(e){u.isUndefined(e)||a(E.SIDEBAR_HEADER).updateColumnSelectMenu(e)},n.openRefineview=function(){i.getSheetAppSidebarView().mode=d.REFINE_SIDEBAR_VIEW,a(E.REFINE_SIDEBAR).hideSidePanelHeader()},n.clearSidebarGrid=function(){var e=a(E.SIDEBAR_GRID);e.grid&&e&&e.loadData([])},n.hideRefineview=function(){i.getSheetAppSidebarView().hide(d.REFINE_SIDEBAR_VIEW)},n.getColumnMenuValue=function(){return a(E.SIDEBAR_HEADER).getColumnMenuValue()},n.getOperationMenuValue=function(){return a(E.SIDEBAR_HEADER).getOperationMenuValue()},n.openTray=function(e){a(E.REFINE_SIDEBAR).openTray(e)},n.hideTray=function(){a(E.REFINE_SIDEBAR).closeTray()},n.hideGrid=function(){a(E.SIDEBAR_GRID).loadData([[]])},n.setClusterGridHeight=function(e){var t=a(E.SIDEBAR_FOOTER).dom.offsetHeight||75,n=a(E.SIDEBAR_HEADER),o=a(E.SIDEBAR_GRID),i=a(E.REFINE_COMPONENT).cache.sidepanelArea.offsetHeight-t+n.dom.offsetHeight;o.dom&&(o.dom.style.maxHeight=(i<e?i:e)+"px")},n.loadClusterGrid=function(e){var t=e.getData(),n=a(E.SIDEBAR_GRID);(n.mode=o.CLUSTER,n.loadData(t),t.length)?a(E.SIDEBAR_FOOTER).show():a(E.SIDEBAR_FOOTER).hide()},n.setColumnMenuValue=function(e,t){a(E.SIDEBAR_HEADER).setColumnMenuValue(e,t)},n.setOperationMenuValue=function(e,t){a(E.SIDEBAR_HEADER).setOperationMenuValue(e,t)},n.getFillValue=function(){return a(E.FILL_MISSING_VALUE).getValue()},n.getFillInputBoxValue=function(){return a(E.FILL_MISSING_VALUE).getInputBoxValue()},n.showGridLoader=function(){a(E.SIDEBAR_GRID).showLoader()},n.hideGridLoader=function(){a(E.SIDEBAR_GRID).hideLoader()},n.renderClusterGrid=function(){a(E.SIDEBAR_GRID).grid.render()},n.resetDatacleaningview=function(){a(E.SIDEBAR_FOOTER).hide();a(E.SHEET_DUPLICATE_COMPONENT_HOLDER).hide(),n.hideMessage(),n.clearSidebarGrid()},n.showFillMissingValueView=function(t,o){if(a(E.SIDEBAR_HEADER).mode=r.NORMAL_SELECT,n.hideGridLoader(),0!=t){i.getRefineView().mode=d.FILL_MISSING_VALUES;var u=a(E.SIDEBAR_FOOTER),R=a(E.FILL_MISSING_VALUE);R.hideRadio(l.REMOVE_BLANKS),R.hideRadio(l.AVERAGE),u.showButton("applyButton"),u.changeLabel("applyButton","Fill Values"),u.hideButton("refineapplyButton"),u.hideButton("cancelButton"),R.setCount(t)}else n.showMessage(e.SA_EN.Preview.Sidebar.FixMissing.Alert)},n.resetFill=function(){a(E.FILL_MISSING_VALUE).reset()},n.showClusterView=function(){i.getRefineView().mode=d.CLUSTER;var e=a(E.SIDEBAR_FOOTER);e.showButton("refineapplyButton"),e.hideButton("applyButton"),a(E.SIDEBAR_HEADER).mode=r.NORMAL_SELECT,e.hideButton("cancelButton");var t=a(E.SIDEBAR_GRID);t.loader&&t.loader.addClass("sPDCLoader")},n.setFillMissingCategory=function(e){a(E.FILL_MISSING_VALUE).setColumnCategory(e)},n.showMessage=function(e){i.getRefineView().mode=d.SIDEBAR_ERROR,a(E.SIDEBAR_MESSAGE).message=e},n.getSidebarGrid=function(){return a(E.SIDEBAR_GRID).grid},n.hideMessage=function(){a(E.SIDEBAR_MESSAGE).hide()},n.changeClusterReplaceAllHeader=function(e){var t=a(E.SIDEBAR_GRID),n=[R[E.CLUSTER_HEADER].constructReplaceAllCheckBox(e),"Clusters","Replace Value"];t.setHeader(n)},n.showFindDuplicateView=function(){i.getRefineView().show(d.DEDUPLICATE,!0),a(E.SIDEBAR_HEADER).mode=r.OPERATION_SELECT_ONLY},n.showFindUniqueView=function(){i.getRefineView().mode=d.FIND_UNIQUE,a(E.SIDEBAR_HEADER).mode=r.OPERATION_SELECT_ONLY},n.showColumnFrequency=function(e){i.getRefineView().mode=d.FREQUENCY,a(E.SIDEBAR_HEADER).mode=r.NORMAL_SELECT;var t=a(E.SIDEBAR_GRID);if(t.mode=o.COLUMN_SUMMARY,e){var n=a(E.SIDEBAR_FOOTER).dom.offsetHeight,u=a(E.SIDEBAR_HEADER),R=a(E.REFINE_COMPONENT).cache.sidepanelArea.offsetHeight-n+u.dom.offsetHeight;t.dom&&(t.dom.style.maxHeight=R+"px"),t.loadData(e)}}}(this);!function(e){var n=e.module,l=n.getModule("SA/Controller/UIActionMapper"),o=n.getModule("SA/Controller/SheetAppController"),r=n.getModule("SA/Common/Utils"),C=n.getModule("SA/Controller/SheetAppUIController");l.onRefineApplyClick=o.onRefineApplyClick,l.onRefineCancelClick=o.onRefineCancelClick,l.onClusterReplaceAllClick=o.onClusterReplaceAllClick,l.onclusterValueCheckChange=o.onclusterValueCheckChange,l.onClusterReplaceValueChange=o.onClusterReplaceValueChange,l.onClusterGroupCheckChange=o.onClusterGroupCheckChange,l.onClusterFilterClick=o.onClusterFilterClick,l.onRefineSidebarMenuClick=o.onRefineMenuClick,l.onSidebarColumnChange=o.onSidebarOperationMenuChange,l.onSidebarOperationMenuChange=o.onSidebarOperationMenuChange,l.onSidebarApplyClick=o.onSidebarApplyClick,l.runClusterAction=r.EMPTY_FUNCTION,l.reRenderClusterGrid=C.renderClusterGrid,l.fireCustomEvent=o.fireCustomEvent,l.showEmptyRecords=o.showEmptyRecords}(this);!function(E){var e=E.module,R=e.getModule("SA/UI/View/Config"),I=e.getModule("SA/Common/Utils"),t=e.getModule("SA/UI/View/Constants"),n=e.getModule("SA/UI/Registry").getComponent,S=e.getModule("SA/UI/Constants/ClassNames");R.getDataCleansingConfigurations=function(E){var e=I.createPureObject();return e[t.REFINE_SIDEBAR_VIEW]=[{component:n(S.REFINE_COMPONENT,E)},{component:n(S.REFINE_SIDEBAR,n(S.REFINE_COMPONENT).getPlayArea())},{component:n(S.SIDEBAR_HEADER,n(S.REFINE_SIDEBAR).getChamber())}],e},R.getRefineViewConfigurations=function(E){var e=I.createPureObject();return e[t.CLUSTER]=[{component:n(S.SIDEBAR_OPERATIONS_HOLDER,n(S.REFINE_SIDEBAR).getChamber())},{component:n(S.CLUSTER_HEADER,n(S.SIDEBAR_OPERATIONS_HOLDER).getChamber())},{component:n(S.SIDEBAR_GRID,n(S.REFINE_SIDEBAR).getChamber())}],e[t.FILL_MISSING_VALUES]=[{component:n(S.SIDEBAR_OPERATIONS_HOLDER,n(S.REFINE_SIDEBAR).getChamber())},{component:n(S.FILL_MISSING_VALUE,n(S.SIDEBAR_OPERATIONS_HOLDER).getChamber())},{component:n(S.SIDEBAR_FOOTER,n(S.REFINE_SIDEBAR).getChamber(),[S.SIDEBAR_MESSAGE])}],e[t.DEDUPLICATE]=[{component:n(S.SIDEBAR_OPERATIONS_HOLDER,n(S.REFINE_SIDEBAR).getChamber())},{component:n(S.SHEET_DUPLICATE_COMPONENT_HOLDER,n(S.REFINE_SIDEBAR).getChamber())}],e[t.FIND_UNIQUE]=[{component:n(S.SIDEBAR_OPERATIONS_HOLDER,n(S.REFINE_SIDEBAR).getChamber())},{component:n(S.SHEET_FIND_UNIQUE,n(S.REFINE_SIDEBAR).getChamber())}],e[t.FREQUENCY]=[{component:n(S.SIDEBAR_OPERATIONS_HOLDER,n(S.REFINE_SIDEBAR).getChamber())},{component:n(S.SIDEBAR_GRID,n(S.REFINE_SIDEBAR).getChamber())}],e[t.SIDEBAR_ERROR]=[{component:n(S.SIDEBAR_MESSAGE,n(S.REFINE_SIDEBAR).getChamber())}],e}}(this);!function(e){var t=e.module,o=t.getModule("SA/UI/Constants/Message"),a=t.getModule("SA/Common/Utils"),i=t.getModule("SA/UI/Constants/Message/RuntimeMessages");o.ERROR_DIALOG="Error Dialog",o.WARNING_DIALOG="Warning Dialog",o.SUCCESS_DIALOG="Success Dialog",o.SELECT_COLUMN="Select a column",o.INVALID_SELECTION="Invalid Selection",o.CLUSTERS_FOUND=" clusters found",o.EMPTY_COLUMN="No data is available in this column",o.SAMPLE_DIALOG="Sheet2App",a.mixIn(o,{INVALID_DATE:"Please check if correct date format is set in Settings",SUBFORM_APPLIED:"Subform applied",MANDATORY_ERROR:"Column has blanks",NO_FIELDS_ERROR:"No suitable fields available for setting up as a lookup parent",DUPLICATES_ERROR:"Column has duplicate values",QUEUE_LIMIT:"Already 5 actions in queue. Please wait.",HEADER_ERROR:"Can't change header",FORM_NM_EMPTY:"Form display name cannot be empty.",DO_YOU_WANT_PROCEED:"Do you want to proceed?",IMPORT_ERROR_DECISION_BOX:'One or more rows contain a value other than true/false in this column. Non-boolean values will be set to "false" upon importing. Proceed with changing the field type?',IMPORT_ERROR_EMAIL:"One or more rows contain a value in this column that do not follow the email address format of example@example.com. These won't be imported. Proceed with changing the field type?",IMPORT_ERROR_DATE:"One or more rows contain a value that's not a date. These won't be imported. Proceed with changing the field type?",IMPORT_ERROR_DATE_TIME:"One or more rows contain a value that's not a date. These won't be imported. Proceed with changing the field type?",IMPORT_ERROR_CURRENCY:"One or more rows contain a value that's not decimal. These won't be imported. Proceed with changing the field type?",IMPORT_ERROR_NUMBER:"One or more rows contain a value other than an integer. These won't be imported. Proceed with changing the field type?",CONFIGURE_DECISION_BOX:"Please map the values of the column to true/false using customize field.",HEADER_CHANGE:"Header row cannot be changed now",PRIMARY_COLUMN_DISABLED:"Primary field disabled",SUBFORM_NOT_ALLOWED:"A lookup parent column cannot be changed to Subform",SUBFORM_COL_EXCLUDE:"A subform linking column cannot be deselected.",CELLS_FILLED:" cell(s) filled",NAME_SPLIT_CUE:"Split full names",ADDRESS_SPLIT_CUE:"Split full addresses",NO_MATCH:"No matches found",MERGE_COLUMN_INVALID:"Select two or more columns to merge",ADDRESS_API_LIMIT:"Splitting address data can be done for 10,000 rows at a time. We suggest that you filter the rows and then split the addresses.",FILTER_RESUME:"The {0} column is being used to filter the data in this table. Deselecting it will also remove it from the filter. Proceed?",DATE_ERROR:"Please set the date format in Settings tab for importing date values properly.",SERVER_ERROR:"Oops, something went wrong",CREATING:"Creating...",MISSING_VALUES:" missing value(s)",ROWS_REMOVED:" row(s) removed",CELLS_EDITED:" cell(s) edited",CELLS_FILLED_WITH:" cell(s) filled with the value ",COLUMNS_MERGED:" columns merged ",CELLS_REPLACED:" cell(s) replaced",LOOKUP_NOT_ALLOWED:"Lookup not allowed",MAX_FILTER_REACHED:"You can use up to 20 conditions to filter data.",TRY_DIFFERENT_COLUMN:"Choose another column",INVALID_TYPE_CHANGE:"Type change not allowed for this column",IMPORT_ERROR:"Import error ",RECORDS_FAILED:" record(s) failed",RECORDS_IMPORTED:"Data imported successfully",CREATING_APPLICATION:"Creating Application . . .",CREATING_FORM:"Creating Forms . . .",TRY_DIFFERENT_MAINFORM:"Choose another column",TRY_DIFFERENT_SUBFORM:"Choose another column",DEFAULT_APP_NAME:"Untitled",TABLES_CREATED:"Tables created..",OPERATION_NOT_ALLOWED:"Operation not allowed",PROCESSING_BANNER:"Processing . . .",PROCESSING_COMPLETED:"Completed",EMPTY_TABLE:"Please provide form name",FIELD_WARNING:"The field type set for the column is not appropriate for the data",FIELD_ERROR:"{0} is not compatible with this column's data. Creating application with such incompatibility may cause errors. Proceed with changing the Field type?",DEPENDANT_TYPE_CHANGE:"Column is a part of lookup relationship.To change the type, drop the relationship ",SERVER_DOWN:"Server is down.",TRY_LATER:"Please try after sometime.",VALID_SHEET_URL:"Please provide a valid file URL.",CHECK_UPLOADED_FORMAT:"Something went wrong. Please check your file's format and also ensure that the data is UTF-8 encoded.",SUPPORTED_FORMATS:"Supported file formats are .xls, .xlsx, .xlsm, .csv,  .tsv, .ods, .ds",SUPPORTED_FORMATS_2:"Supported file formats are .xls, .xlsx, .xlsm, .csv,  .tsv, .ods, .accdb, .mdb, .ds",SUPPORTED_FORMATS_ADD_FORM:"Supported file formats are .xls, .xlsx, .xlsm, .csv,  .tsv, .ods",SUPPORTED_FORMATS_2_ADD_FORM:"Supported file formats are .xls, .xlsx, .xlsm, .csv,  .tsv, .ods, .accdb, .mdb",CLOUD_CANNOT_FETCH:"We couldn't fetch your file. Please try again after some time.",NO_TABULAR_DATA:"File does not contain tabular data. Data must be present in at least two consecutive rows.",CHOOSE_SUPPORTED_FORMAT:"Incorrect file format. Upload a file from one of the supported formats.",CHOOSE_SUPPORTED_FORMAT_SHEET:"Incorrect file format. Upload a file from one of the supported formats.",CHECK_VALID_URL:"Invalid URL input. The URL must be a direct download link of a file.",INTERNAL_SERVER_ERR:"Internal server error occurred.",SERVER_NO_RESPONSE:"Server is not responding.",REPORT_ISSUE:"Please report the issue.",CANNOT_FETCH_LIST:"We are unable to fetch the applications list.",APP_NM_EMPTY:"Application name is required.",APP_NM_LIMIT:"Application display name cannot contain more than 50 characters.",APP_NAME_EXISTS:"Application with this name exists. Please rename.",APP_CREATE_ERR:"Error in creating the application.",APP_CREATE_OK:"Application is created successfully.",FORM_CREATE_OK:"Forms are created successfully",APP_DELETE:"Are you sure you want to delete ",APP_PERMANENT_DEL:"The application will be permanently deleted.",APP_DELETED:" is permanently deleted",FORM_DISP_NM:"Provide a display name for the form.",FORM_NM_LIMIT:"Form display name can contain up to {0} characters.",FIELD_NM_LIMIT:"Field display name can contain up to {0} characters.",NO_TABLE_SEL:"No table selected. At least one table is required to create the application.",APP_CANCEL:"Cancel creating application? Uploaded data will be lost. This action cannot be undone.",ID_CANCEL:"Are you sure you want to cancel? The imported table information will be lost.",ENTER_URL:"Enter a URL to import.",IMPORT_INCOMPATIBLE:"The applied conditional formatting and validation rules will not be imported when the column's field type is not compatible with them.",IMPORT_INCOMPATIBLE_CF:"The applied conditional formatting and validation rules will not be imported when the column's field type is not compatible with them.",IMPORT_INCOMPATIBLE_DV:"The applied conditional formatting and validation rules will not be imported when the column's field type is not compatible with them.",PRECEDENT_TYPE_CHANGED_COL:"The field type of precedent of this formula is changed. ",PRECEDENT_TYPE_CHANGED:"You've changed the field type of a precedent column. Its dependent columns will therefore not be imported as formula fields.",DEPENDANTS_TYPE_CHANGED:"The type of dependants of this column is changed to ",HIGHLIGHT_REL:"Click to highlight the parent and child column of this lookup relationship.",REMOVE_VLOOK_DEP:"Column is dependant on another column. Please remove the relation/dependant columns to remove the current column.",PARENT_COL_EXCLUDE:"A parent column cannot be deselected.",PARENT_TAB_EXCLUDE:"A parent table cannot be deselected.",RECORD_ERROR:"Internal server error occurred while importing. Please report this issue to us.",INPUT_VALIDATION_ERR:"Please correct the error in input fields to proceed.",MULTI_LIST_WARN:"Comma will separate two values from one another. Each value will become a choice in the Multi Select field after import.",MULTI_CB_WARN:"Comma will separate two values from one another. Each value will become a choice in the Multi Select field after import.",MULTI_LIST_NOTE:"Muliselect list may be appropriate.",MULTI_LIST_DROP_NOTE:"Dropdown/Muliselect list may be appropriate.",MULTI_LIST_RADIO_NOTE:"Radio button/Muliselect list may be appropriate.",MULTI_BOX_NOTE:"Muliselect checkbox may be appropriate.",MULTI_BOX_DROP_NOTE:"Dropdown/Muliselect checkbox may be appropriate.",MULTI_BOX_RADIO_NOTE:"Radio button/Muliselect checkbox may be appropriate.",FILE_SIZE_MORE_THAN_ALLOWED_SIZE:"Upload a file that's at most {0} MB in size.",FILE_SIZE_MORE_THAN_ALLOWED_SIZE_ACCESS:"Upload a file that's at most {0} MB in size.",FILE_SIZE_EXCEED_CLOUD:"Uploaded file size exceeded the maximum limit",FILE_ZERO_BYTES:"Uploaded file is empty.",COLUMNS_EXCEEDED:"{0} contains more than {1} columns. Please ensure that a sheet contains {1} columns at most, and then upload your file.",TIMEOUT_MSG:"Your request timed out. Please try again after some time.",COLUMN_ALREADY_PARENT:"Field is already a parent of another relationship.",FORM_CREATE_ERR:"Error in creating the form.",INVALID_SUBFORM:"(Warning : Please ensure that all the values in linking column of subform are present in linking column of mainform to avoid missing record links.)",STANDARDIZE_PHONE_ON_COUNTRY:'The phone numbers will be prepended with the international calling code of the country you select. For example, if you were to select United States, the phone number "222-555-0191" will be changed to "+1 2225550191".',STANDARDIZE_PHONE_ON_REGION:'The phone numbers will be prepended with the international calling code of the country present in the column you select. For example, if a row were to contain "222-555-0191" in this column and "United States" in the country column, it will be changed to "+12225550191". Similarly, +61 will be prepended in phone numbers associated with Australia, and so on.'}),i.loadMessage=function(){e.IS_ADD_FORM&&a.mixIn(o,{})}}(this);!function(e){var t=e.module,r=t.getModule("SA/Common/Utils"),o=t.getModule("SA/UI/Class"),l=t.getModule("SA/UI/Component/Sidebar/Grid/GridConstants"),i=t.getModule("SA/UI/Constants/ClassNames").CLUSTER_HEADER,n=t.getModule("SA/UI/Constants/ClassNames"),a=t.getModule("SA/UI/Class/ClusterGridEdit"),d=(t.getModule("SA/UI/Class/ColumnSummaryEdit"),t.getModule("SA/Service")),u=t.getModule("SA/Controller/ActionController"),s=t.getModule("SA/Controller/SheetAppController"),c=(t.getModule("SA/Controller/UIActionMapper"),t.getModule("SA/Controller/UIActionController")),h=t.getModule("SA/Common/Template").getTemplate,S=t.getModule("SA/UI/Class/DeduplicateGridEdit"),C=(t.getModule("SA/UI/Class/Handson"),r.createPureObject());function m(e){this.holder=e,this.display=!1,this.constructed=!1,this.TEMPLATE=t.getModule("SA/UI/Constants/TemplateConstants").SIDEBAR_GRID,this.attached=!1,this.cache=r.createPureObject(),this.dom=null,this.grid=null,this._valSort=!1,this._countSort=!1,this.loader=new o[n.LOADER](e),this._dedupValSort=!1,this.sortVal=!1,this.sortCount=!1,this._dedupCountSort=!1,this.dedupReplaceAll=!0,this.construct()}function p(){if(this.type==l.CLUSTER){var e=(m=this.dom).querySelectorAll(".rowSelect"),t=m.querySelectorAll(".clusterReplaceBy"),o=m.querySelectorAll(".chooseCluster"),i=m.querySelectorAll("#replaceAll"),n=m.querySelectorAll(".clusterFilter"),d=m.querySelectorAll(".clustrName");r.bindAllEvent(i,"click",a.onClusterReplaceAllClick),r.bindAllEvent(e,"click",a.onClusterValueCheckChange),r.bindAllEvent(t,"keyup",a.onClusterReplaceValueChange),r.bindAllEvent(o,"click",a.onClusterGroupCheckChange),r.bindAllEvent(n,"click",a.onClusterFilterClick),r.bindAllEvent(d,"click",a.onClusterFilterClick)}else if(this.type==l.DEDUPE){this.cache;var h=this.dom.querySelectorAll(".countValues"),C=this.dom.querySelectorAll(".checkBoxValues");r.bindAllEvent(h,"click",S.onDedupCountClick),r.bindAllEvent(C,"click",S.onDedupCheckClick)}if(this.type==l.COLUMN_SUMMARY){var m,p=(m=this.dom).querySelectorAll("#FreMore");r.bindAllEvent(p,"click",function(){c.showExploreContextMenu(this)});var A=m.querySelectorAll(".freqEdit"),v=m.querySelectorAll("a");r.bindAllEvent(v,"click",function(e){var t=(e.srcElement||e.target).id,o=+r.separateID(t)[0];s.onFrequencyFilterClick&&s.onFrequencyFilterClick(o),u.onFrequencyFilterClick&&u.onFrequencyFilterClick(o)});var E=null,y=null;r.bindAllEvent(A,"click",function(){E&&y&&(r.hide(y),r.show(E));var e=this.closest("div"),t=e.querySelector("#FValueArea"),o=e.querySelector("#FEdit");r.hide(t);var l=!1;"true"==t.getAttribute("isEmpty")?(l=!0,o.value=""):o.value=t.textContent,r.show(o,"");var i=t.textContent;E=t,y=o;var n=!1,a=!1,d=!0;r.bindEvent(o,"blur",function(){!a&&d&&(t.textContent=o.value,r.show(t),r.hide(o),l&&n?(s.frequencyEdit&&s.frequencyEdit("",o.value),u&&u.fillWithValue(void 0,void 0,void 0,o.value)):n?(s.frequencyEdit&&s.frequencyEdit(i,o.value),u.replaceCells&&u.replaceCells(void 0,void 0,void 0,i,o.value)):l&&(t.textContent="(Blank)"))}),o.addEventListener("keydown",function(e){var c=e.which||e.keyCode;if(27==c)return d=!1,a=!1,n=!1,r.show(t),r.hide(o),e.preventDefault(),void e.stopPropagation();13==c||27==c?(a=!0,t.textContent=o.value,r.show(t),r.hide(o),l&&n?(s.frequencyEdit&&s.frequencyEdit("",o.value),u.fillWithValue&&u.fillWithValue(void 0,void 0,void 0,o.value)):n&&(s.frequencyEdit&&s.frequencyEdit(i,o.value),u.replaceCells&&u.replaceCells(void 0,void 0,void 0,i,o.value))):37==c||38==c||39==c||40==c?a=!1:n=!0,e.stopPropagation()}),setTimeout(function(){o.focus()},100)})}}function A(e){switch(e){case l.SPLIT_COLUMNS:return{stretchH:"all",renderAllRows:!1,rowHeaders:!1,manualColumnResize:!0,copyable:!1,editor:!1,fillHandle:!1,colWidths:180};case l.DEDUPE:return{stretchH:"all",renderAllRows:!1,rowHeaders:!1,manualColumnResize:!0,copyable:!1,editor:!1,fillHandle:!1,colWidths:[40,160,160],columns:[{data:"checkbox",renderer:"html"},{data:"cluster",renderer:"html"},{data:"count",renderer:"html"}]};case l.CLUSTER:return{height:"100%",columns:[{data:"checked",renderer:"html"},{data:"group",renderer:"html"},{data:"input",renderer:"html"}],dropdownMenu:[],colHeaders:[o[i].constructReplaceAllCheckBox(!0),SA_EN.Preview.Sidebar.FixMisspeling.Clusters,SA_EN.Preview.Sidebar.FixMisspeling.Replace],colWidths:d.getSidebarClusterGridWidth(),fillHandle:!1,copyable:!1,editor:!1,rowHeaders:!1,autoColumnSize:!0,disableVisualSelection:!0};case l.MERGE:return{stretchH:"all",renderAllRows:!1,rowHeaders:!1,manualColumnResize:!0,copyable:!1,editor:!1,fillHandle:!1,colWidths:180,colHeaders:["merge column"],columns:["A"]};case l.DEDUPLICATE:return{colHeaders:["Merge","Value","Count"],colWidths:[40,160,80],stretchH:"all",manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,autoColumnSize:!0,editor:!1,copyPaste:!1,rowHeaders:!1,fillHandle:!1,hiddenColumns:{},columns:[{data:"mergeBtn",renderer:"html"},{data:"Duplicates",renderer:"html"},{data:"count",renderer:"html"}]};case l.ADDRESS_SPLIT:return{colHeaders:["AddressLine1","AddressLine2","City/District","State/Province","PostalCode","Country"],columns:[{data:"ADDRESS_LINE1"},{data:"ADDRESS_LINE2"},{data:"DISTRICT_CITY"},{data:"STATE_PROVINCE"},{data:"POSTAL_CODE"},{data:"COUNTRY"}],colWidths:180,fillHandle:!1,copyable:!1,editor:!1,rowHeaders:!1,autoColumnSize:!0,disableVisualSelection:!0};case l.COLUMN_SUMMARY:return{colHeaders:[h("ExploreGridHeaderArea").innerHTML],colWidths:[100,100],stretchH:"all",manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,autoColumnSize:!0,editor:!1,copyPaste:!1,rowHeaders:!1,height:400,fillHandle:!1,hiddenColumns:{},columns:[{data:"cell",renderer:"html"}]};case l.TABLE_SUMMARY:return{colHeaders:["Actions"],colWidths:[100,100],stretchH:"all",manualColumnResize:!0,manualRowResize:!0,autoRowSize:!1,autoColumnSize:!0,editor:!1,copyPaste:!1,rowHeaders:!1,fillHandle:!1,hiddenColumns:{},columns:[{data:"cell",renderer:"html"}]}}}C[l.CLUSTER]="clusterGrid",C[l.SPLIT_COLUMNS]="splitGrid",C[l.DEDUPLICATE]="duplicateListGrid",C[l.MERGE]="mergecolumnList",C[l.ADDRESS_SPLIT]="addressSplit",C[l.COLUMN_SUMMARY]="columnSummary",C[l.TABLE_SUMMARY]="tablesummaryGrid",C[l.DEDUPLICATE]="deduplicateGrid",C[l.DEDUPE]="dedupe",m.prototype={set mode(e){if(this.grid&&this.type!=e){this.resetSort(),this.hideColumnSummaryHeader(),this.hideDedupHeader();var t=this.grid.options.event;delete this.grid.options,this.type&&r.removeClass(this.cache.gridElement,C[this.type]),r.addClass(this.cache.gridElement,C[e]),this.type=e,this.grid.options=A(e),this.grid.options.event=t,this.grid.updateSetting(),this.hideColumnInfo(),e==l.COLUMN_SUMMARY&&this.showColumnSummaryHeader(),e==l.DEDUPE&&this.showDedupHeader()}},showColumnSummaryHeader:function(){r.show(this.cache.columnSummaryHeader)},hideColumnSummaryHeader:function(){r.hide(this.cache.columnSummaryHeader)},showDedupHeader:function(){r.show(this.cache.dedupHeader)},hideDedupHeader:function(){r.hide(this.cache.dedupHeader)},get mode(){return this.type},setHeader:function(e){this.grid&&this.grid.setHeader(e)},loadData:function(e){var t=this.grid;this.hideColumnInfo(),r.isUndefined(t)&&this.show(),e&&e.length?(this.showGrid(),t.loadData(e),t.selectCell(0,0)):this.hideGrid()},showLoader:function(){this.loader.show()},hideLoader:function(){this.loader.hide()},cacheElements:function(){if(this.constructed){var e=this.cache,t=this.dom;e.gridElement=r.querySelectorID(t,"SidebarGrid"),e.columnInfoHolder=r.querySelectorID(t,"SidebarColumnInfo"),e.columnSummaryHeader=r.querySelectorID(t,"ColumnSummaryHeader"),e.columnSummaryValueSort=r.querySelectorID(t,""),e.columnSummaryCountSort=r.querySelectorID(t,""),e.duplicateCount=r.querySelectorID(t,"Dcount"),e.uniqueCount=r.querySelectorID(t,"Ucount"),e.blankCount=r.querySelectorID(t,"Bcount"),e.invalidCount=r.querySelectorID(t,"Icount"),e.valueSort=r.querySelectorID(t,"ValueSort"),e.countSort=r.querySelectorID(t,"CountSort"),e.countSortArea=r.querySelectorID(t,"CountSortArea"),e.valueSortArea=r.querySelectorID(t,"ValueSortArea"),e.dedupHeader=r.querySelectorID(t,"DedupHeader"),e.dedupValueSortArea=r.querySelectorID(t,"DedupValueSortArea"),e.dedupCountSortArea=r.querySelectorID(t,"DedupCountSortArea"),e.dedupValueSort=r.querySelectorID(t,"DedupValueSort"),e.dedupCountSort=r.querySelectorID(t,"DedupCountSort"),e.dedupReplaceAll=r.querySelectorID(t,"replaceAll"),e.dedupCheckBox=r.querySelectorID(t,"dedupHeaderCheckBox")}},bindEvents:function(){var e=this.cache,t=this;r.bindEvent(e.valueSortArea,"click",function(){t._valSort?(r.removeClass(e.valueSort,"translateArr"),u.setExploreByValueAsc()):(r.addClass(e.valueSort,"translateArr"),u.setExploreByValueDsc()),t._valSort=!t._valSort}),r.bindEvent(e.countSortArea,"click",function(){t._countSort?(r.removeClass(e.countSort,"translateArr"),u.setExploreByFrequencyAsc()):(r.addClass(e.countSort,"translateArr"),u.setExploreByFrequencyDsc()),t._countSort=!t._countSort}),r.bindEvent(e.dedupValueSortArea,"click",function(){t.sortVal?(r.removeClass(e.dedupValueSort,"translateArr"),u.sortDedupGrid("Sort Descending",1,t.sortCount)):(r.addClass(e.dedupValueSort,"translateArr"),u.sortDedupGrid("Sort Ascending",1,t.sortCount)),t.sortVal=!t.sortVal}),r.bindEvent(e.dedupCountSortArea,"click",function(){t.sortCount?(r.removeClass(e.dedupCountSort,"translateArr"),u.sortDedupGrid("Sort Descending",2,t.sortVal)):(r.addClass(e.dedupCountSort,"translateArr"),u.sortDedupGrid("Sort Ascending",2,t.sortVal)),t.sortCount=!t.sortCount}),r.bindEvent(e.dedupReplaceAll,"click",function(e){var r=!t.dedupReplaceAll;S.replaceAll(e,r)})},resetSort:function(){this._valSort=!1,this._countSort=!0,r.removeClass(this.cache.valueSort,"translateArr"),r.addClass(this.cache.countSort,"translateArr")},showColumnInfo:function(){r.show(this.cache.columnInfoHolder)},hideColumnInfo:function(){r.hide(this.cache.columnInfoHolder)},updateColumnInfo:function(){},resetDedupSort:function(){this.sortVal=!1,this.sortCount=!1,r.removeClass(this.cache.dedupValueSort,"translateArr"),r.removeClass(this.cache.dedupCountSort,"translateArr")},afterRender:function(){if(this.constructed){var e=this.cache;this.grid=new o[n.HANDSON](e.gridElement,A(l.DEFAULT_GRID_TYPE)),this.grid.addHooks("afterRender",p.bind(this)),this.mode=l.CLUSTER}},gridRender:function(){this.grid&&(this.grid.render(),p.call(this))},showGrid:function(){if(this.constructed){var e=this.cache;r.show(e.gridElement),r.show(this.dom)}},hideCallBack:function(){},setHeight:function(e){this.constructed&&(this.cache.gridElement.style.height=e+"px",this.grid&&this.grid.render())},hideGrid:function(){if(this.constructed){var e=this.cache;r.hide(e.gridElement),r.hide(this.dom)}},updateSetting:function(e){!r.isUndefined(e)&&this.grid&&this.grid.updateConfiguration(e)},clear:function(){this.hideGrid();var e=this.grid;e&&e.clear(),this._valSort=!1,this._countSort=!0},setBlanksCount:function(e){this.cache.blankCount.textContent=e},setDuplicateCount:function(e){this.cache.duplicateCount.textContent=e},setInvalidCount:function(e){this.cache.invalidCount.textContent=e},setUniqueCount:function(e){this.cache.uniqueCount.textContent=e},setReplaceAll:function(e){this.dedupReplaceAll=e,this.dedupReplaceAll?this.cache.dedupCheckBox.setAttribute("checked",!0):this.cache.dedupCheckBox.removeAttribute("checked")}},r.extend(m.prototype,t.getModuleFrom(o,"UIComponent").prototype),t.extend(o,n.SIDEBAR_GRID,m)}(this);!function(t){var s=t.module,o=s.getModule("SA/UI/Class"),e=s.getModule("SA/UI/Constants/ClassNames"),n=s.getModule("SA/Common/Utils");function d(t){this.holder=t||document.body,this.display=!1,this.attached=!1,this.dom=null,this.constructed=!1,this.TEMPLATE=s.getModule("SA/UI/Constants/TemplateConstants").LOADER,this.construct()}d.prototype={addClass:function(t){n.addClass(this.dom,t)},removeClass:function(t){n.removeClass(this.dom,t)}},n.extend(d.prototype,s.getModuleFrom(o,"UIComponent").prototype),s.extend(o,e.LOADER,d)}(this);!function(e){var t=e.module,n=t.getModule("SA/UI/Class"),o=t.getModule("SA/Common/Utils"),i=t.getModule("SA/UI/Constants/ClassNames"),l=t.getModule("SA/UI/Constants/TemplateConstants"),u=t.getModule("SA/Service"),s=t.getModule("SA/Common/Template").getTemplate,c=t.getModule("SA/UI/Constants/SidebarConstants"),a=t.getModule("SA/Controller/UIActionMapper"),r=t.getModule("SA/UI/Constants/RefineConstants");function d(e){this.holder=e,this.constructed=!1,this.attached=!1,this.dom=null,this.display=!1,this.cache=o.createPureObject(),this.columnSelectMenu=null,this.operationSelectMenu=null,this.construct()}function h(){switch(this.getOperationMenuValue()){case r.MERGE_COLUMN:a.loadSampleMergeColumns();break;case r.DEDUPLICATE:a.disableButton(!1),a.dedupReplaceAllHeader(!0),a.resetDedupSort(),a.loadSampleDedupColumns()}}function S(e,t){if(e&&t){var n=(t.item||t).value;n=n;var o=this.getColumnMenuValue();this.showSelectAllColumns(),a.onSidebarOperationMenuChange(this.sid,this.tid,o,n)}}d.prototype={set mode(e){if(this.type=e,this.constructed){var t=this.cache;o.show(t.operationSelectArea),e==c.NORMAL_SELECT&&(o.show(t.columnSelectArea),o.hide(t.columnTokenSelectArea),o.hide(t.dedupColumnSelectArea)),e==c.TOKEN_SELECT&&(o.hide(t.columnSelectArea),o.show(t.columnTokenSelectArea),o.hide(t.dedupColumnSelectArea)),e==c.OPERATION_SELECT_ONLY&&(o.hide(t.columnSelectArea),o.hide(t.columnTokenSelectArea),o.hide(t.dedupColumnSelectArea)),e==c.DEDUP_SELECT&&(o.hide(t.columnSelectArea),o.hide(t.columnTokenSelectArea),o.show(t.dedupColumnSelectArea))}},setSheetID:function(e,t){o.isUndefinedAll([e,t])||(this.sid=e,this.tid=t)},setLabel:function(){if(this.constructed&&this.dom){var e=this.cache;o.setLabel(o.querySelectorID(e.columnTokenSelectArea,"label"),SA_EN.Preview.Sidebar.Header.ColumnName),o.setLabel(o.querySelectorID(e.columnSelectArea,"label"),SA_EN.Preview.Sidebar.Header.ColumnName),o.setLabel(o.querySelectorID(e.operationSelectArea,"label"),SA_EN.Preview.Sidebar.Header.Operation),o.setLabel(o.querySelectorID(e.dedupColumnSelectArea,"label"),SA_EN.Preview.Sidebar.Header.ColumnName)}},construct:function(e){if(!this.constructed||e){this.dom=s(l.SIDEBAR_HEADER);var t=u.getSidebarHeaderElements(),n=this.cache;n.contentArea=o.querySelectorID(this.dom,"HeaderContentArea");for(var i=0,c=t.length;i<c;i++)n.contentArea.append(s(l[t[i]]));this.constructed=!0,this.cacheElements(),this.setLabel(),this.bindEvents()}},openTokenMenu:function(){this.tokenSelectMenu&&this.tokenSelectMenu.open()},openDedupTokenMenu:function(){this.dedupTokenSelectMenu&&this.dedupTokenSelectMenu.open()},setOperationMenuValue:function(e,t){if(this.operationSelectMenu&&this.attached){if(t)return this.operationSelectMenu.setValueChange(e),void this.showSelectAllColumns();this.operationSelectMenu.value=e,this.showSelectAllColumns()}},setColumnTokenMenu:function(e){this.tokenSelectMenu&&this.tokenSelectMenu.popultateToken(e,!0)},setDedupColumnTokenMenu:function(e){this.dedupTokenSelectMenu&&this.dedupTokenSelectMenu.popultateToken(e,!0)},setColumnMenuValue:function(e,t){if(this.columnSelectMenu){if(t)return void this.columnSelectMenu.setValueChange(e);this.columnSelectMenu.value=e}},cacheElements:function(){if(this.constructed&&!o.isUndefined(this.dom)){var e=this.cache,t=this.dom;!e.contentArea&&(e.contentArea=o.querySelectorID(t,"HeaderContentArea")),e.columnSelectArea=o.querySelectorID(t,"ColumnSelectArea"),e.operationSelectArea=o.querySelectorID(t,"OperationSelectArea"),e.columnSelect=o.querySelectorID(t,"ColumnSelect"),e.operationSelect=o.querySelectorID(t,"OperationSelect"),e.columnTokenSelectArea=o.querySelectorID(t,"ColumnTokenSelectArea"),e.tokenSelect=o.querySelectorID(t,"ColumnTokenSelect"),e.columnTokenSelectArea&&o.hide(e.columnTokenSelectArea),e.dedupColumnSelectArea=o.querySelectorID(t,"DedupColumnTokenSelectArea"),e.dedupTokenSelect=o.querySelectorID(t,"DedupColumnTokenSelect"),e.dedupColumnSelectArea&&o.hide(e.dedupColumnSelectArea),e.addAllColumns=o.querySelectorID(t,"AddAllColumn")}},bindEvents:function(){if(this.constructed){var e=this.cache;o.bindEvent(e.addAllColumns,"click",(t=this,function(e){this.cache,e&&(t.dedupTokenSelectMenu.clear(),a.resetSidebarGrid(),a.showError(SA_EN.Preview.Sidebar.FixMissing.SelectColumn))}))}var t},getDedupSelectedTokenList:function(){return this.dedupTokenSelectMenu&&this.dedupTokenSelectMenu.getValues()},getSelectedTokenList:function(){return this.tokenSelectMenu&&this.tokenSelectMenu.getValues()},getOperationMenuValue:function(){return this.operationSelectMenu?this.operationSelectMenu.value:-1},getColumnMenuValue:function(){return this.columnSelectMenu?+this.columnSelectMenu.value:-1},updateTokenList:function(e){this.tokenlist=e},updateDedupTokenList:function(e){this.dedupTokenlist=e},clearTokenMenu:function(){this.tokenSelectMenu&&this.tokenSelectMenu.clear(),this.dedupTokenSelectMenu&&this.dedupTokenSelectMenu.clear()},updateTokenMenu:function(e,t){if(!this.attached&&e)return t&&(e=o.constructAsKeyValue(columnList)),void this.updateTokenList(e);(e=e||this.tokenlist)&&this.cache.tokenSelect&&(this.tokenSelectMenu&&this.tokenSelectMenu.destroy(),e[0]&&-1==e[0].key&&e.shift(),this.tokenSelectMenu=new n[i.TOKEN_SELECT](this.cache.tokenSelect,{data:e,header:!1},h.bind(this)),this.tokenlist=null)},updateDedupTokenMenu:function(e,t){if(!this.attached&&e)return t&&(e=o.constructAsKeyValue(columnList)),void this.updateDedupTokenList(e);(e=e||this.dedupTokenlist)&&this.cache.dedupTokenSelect&&(this.dedupTokenSelectMenu&&this.dedupTokenSelectMenu.destroy(),e[0]&&-1==e[0].key&&e.shift(),this.dedupTokenSelectMenu=new n[i.TOKEN_SELECT](this.cache.dedupTokenSelect,{data:e,moreResult:function(){this.cache;var e=a.getColumnHeaders();this.addAllColumns(e)}.bind(this),header:!0},h.bind(this)),this.dedupTokenlist=null)},setupOperationSelectMenu:function(e){if(logger.warn("handle descriptive selective menu"),this.constructed){var t=this.cache.operationSelect;if(!o.isUndefined(t)){var c=e||u.getSidebarOperationList();S.bind(this);this.operationSelectMenu&&this.operationSelectMenu.destroy(),this.operationSelectMenu=n[i.SELECT_MENU].constructFromDataSource(t,function(e){var t=[];return e.forEach(function(e){var n=s(l.DESCRIPTIVE_SELECTMENU);n.querySelector(".deslabel").textContent=e.value,n.querySelector(".descContent").textContent=e.desc,t.push({label:e.key,innerHTML:n.innerHTML.trim()})}),t}(c),S.bind(this)),0==c.length?this.operationSelectMenu&&this.operationSelectMenu.disable():this.operationSelectMenu.enable()}}},updateColumns:function(e){this.dirty=!0,this.columnsList=e},updateColumnSelectMenu:function(t,l){if(!this.attached&&t)return l&&(t=o.constructAsKeyValue(t)),void this.updateColumns(t);if(t=t||this.columnsList){var u=this.cache,s=u&&u.columnSelect;if(!o.isUndefined(s)){t.unshift({key:-1,value:"Select"});var c={data:t,handler:function(e,t){if(e&&t){var n=t.item||t,o=n.value;o=+o;var i=this.getOperationMenuValue();a.onSidebarColumnChange(this.sid,this.tid,o,i)}}.bind(this)};this.columnSelectMenu&&this.columnSelectMenu.destroy();var r=null;r=e._EXTERNAL_SERVICE&&e._EXTERNAL_SERVICE.iFrame&&"creator"==e.service?n[i.SELECT_MENU]:n[i.COMBO_BOX]||n[i.SELECT_MENU],this.columnSelectMenu=r.constructFromData(s,c,void 0),2==t.length?(this.columnSelectMenu.value=t[1].key,this.columnSelectMenu&&this.columnSelectMenu.disable()):this.columnSelectMenu&&this.columnSelectMenu.enable(),this.columnsList=null,this.dirty=!1}}},show:function(){this.attached||this.render(),this.display||(o.show(this.dom),this.display=!0,this.dirty&&(this.updateColumnSelectMenu(),this.updateTokenMenu(),this.updateDedupTokenMenu(),!this.operationSelectMenu&&this.setupOperationSelectMenu()))},hide:function(){this.attached||this.render(),this.display&&(o.hide(this.dom),this.display=!1)},afterRender:function(){this.setupOperationSelectMenu(),this.updateColumnSelectMenu(),this.updateTokenMenu(),this.updateDedupTokenMenu()},render:function(e){for(var t=e||this.holder;!this.constructed;)this.construct();var n=this.dom;n&&t.append(n),this.attached=!0,this.display=!0,this.afterRender()},addAllColumns:function(e){if(this.dedupTokenSelectMenu)for(var t=0;t<e.length;t++)t==e.length-1?this.dedupTokenSelectMenu.popultateToken(e[t],!0):this.dedupTokenSelectMenu.popultateToken(e[t],!1)},showSelectAllColumns:function(){var e=this.cache;this.getOperationMenuValue()==r.DEDUPLICATE?o.show(e.addAllColumns):o.hide(e.addAllColumns)}},o.extend(d.prototype,t.getModule("SA/UI/Class/UIComponent").prototype),t.extend(n,i.SIDEBAR_HEADER,d)}(this);!function(t){var e=t.module,r=e.getModule("SA/Common/Utils"),n=e.getModule("SA/Common/Template").getTemplate,a=e.getModule("SA/UI/Constants/TemplateConstants"),i=e.getModule("SA/Model/Constants/ClassNames"),o=e.getModule("SA/Service"),s=-1;function u(t,e,n,a){this.sid=t,this.tid=e,this.col=n,this.data=[],this.map=a,function(t){var e=this.data,n=0;this.key="rows",t.length&&(t[0].rows?this.key="rows":t[0].rowIndex&&(this.key="rowIndex"));for(var a=this.key,i=0,o=t.length;i<o;i++)n=Math.max(t[i][a].length,n);var u,c=Object.create(null),h=0,d=0,f=0,g=0,m=0;t&&t.length&&(""==t[0].v?(f=t[0].c,m=t.length-1):(m=t.length,f=0));for(var i=0,o=t.length;i<o;i++){var v=t[i].v;r.isUndefined(c[t[i].c])&&(c[t[i].c]=[]),c[t[i].c].push(i),u=!!r.isUndefined(t[i].valid)||t[i].valid,e.push({cell:l(r.isUndefined(v)||""==(v+"").trim()?s:v,t[i][a].length,n,i,u)}),""!=(v+"").trim()&&(d+=t[i].c),h+=u?0:t[i].c}g=d-m,this.columnInfo={uniqvaluesCount:m,duplicatesCount:g,blanksCount:f,invalidCount:h};var p=[];for(var y in c)for(var i=0,o=c[y].length;i<o;i++)p.push(c[y][i]);this.freOrder=p}.call(this,a)}function l(t,e,i,u,l){var c=Math.floor(e/i*100)+5,h="#9DCFEE ",d=n(a.COLUMN_SUMMARY_CELL+"s"),f=d.querySelector(".freqEdit");return t==s?(t="(Blanks)",h=" #c3c9d0 ",r.querySelectorID(d,"FValueArea").setAttribute("isEmpty",!0),o.isSheet?f&&f.remove():f.setAttribute("id",r.constructID(["ce",u]))):f.setAttribute("id",r.constructID(["ce",u])),l||(h="#ffecf0"),r.querySelectorID(d,"FValueArea").textContent=t,r.querySelectorID(d,"FValueArea").setAttribute("title",t),r.querySelectorID(d,"FCountArea").textContent=" ("+e+")",r.querySelectorID(d,"FCountArea").id=r.constructID([u,"c"]),r.querySelectorID(d,"FBar").style.background="linear-gradient(to right, {0} {1}%, #fff {1}%)".format(h,c),d.innerHTML.trim()}u.prototype={clear:function(){this.data=null},getData:function(){return this.data},getCount:function(){return this.data.length},getRows:function(t){if(this.map&&this.map[t])return this.map[t][this.key]},getColumnMeta:function(){return this.columnInfo},getDataByVdesc:function(){for(var t=[],e=this.data.length-1;e>=0;e--)t.push(this.data[e]);return t},getDataByVAsc:function(){return this.getData()},getDataByFAsc:function(){for(var t=[],e=0;e<this.data.length;e++)t.push(this.data[this.freOrder[e]]);return t},getDataByFDsc:function(){for(var t=[],e=this.data.length-1;e>=0;e--)t.push(this.data[this.freOrder[e]]);return t}},String.prototype.format||(String.prototype.format=function(){var t=arguments;return this.replace(/{(\d+)}/g,function(e,r){return void 0!==t[r]?t[r]:e})}),e.extend(e.getModule("SA/Model/Class"),i.COLUMN_SUMMARY,u)}(this);